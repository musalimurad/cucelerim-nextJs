"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[67053],{408330:function(e,t,n){n.d(t,{eN:function(){return s},_:function(){return l},kB:function(){return u}});var r=n(172071),o=n(966113),a=n(937666),i=["/resource/:name/:method/","/resource/commerce/:name/:method/","/:username/pins/follow/","/email/remove/","/about/trademark/form/:claim_type/","/about/copyright/dmca-pin/web-result/:id/","/about/copyright/dmca-pin/pin/:id/","/about/copyright/dmca-pin/","/about/koplg/","/about/:lawName/","/about/radtc/","/suspension-appeal/netzdg/","/website/confirm/","/oauth/","/app-factory-oauth/","/settings/extension/uninstall/","/offsite/","/amp/(.*)"],c=n(826067),s=function(e){return e&&(0,c.Qg)(e)&&o.Z.settings.PASSWORD_RESET_URL!==e?(0,c.Qc)(e).relative:"/"},u=function(e){var t,n=(0,c.Jx)(e);return t=new URL(n,window.location.origin),i.some((function(e){return!!(0,a.LX)(t.pathname,{path:e,exact:!0})}))||(0,c.OM)(n)===c.vx.TRUSTED_DIFFERENT_ORIGIN},l=function(e){var t=e.forceFullPageNavigation,n=e.history,o=e.next,a=e.noLocationReplace,i=(0,c.Jx)(o);u(o)||!n||t?(t&&r.Z.increment("webapp.duplo.navigateOnLogin.forceFullPageNavigation",1),window.location.assign(i)):a?n.push(s(i)):n.replace(s(i))}},630135:function(e,t,n){n.d(t,{E:function(){return s},S:function(){return u}});var r=n(76911),o=n(957161);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(s){c=!0,o=s}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c="_loggingInNotHome",s=function(e){e?(0,o.Nh)(c,1):(0,o.L_)(c)},u=function(){var e=a((0,r.useState)(!1),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){n(!0)}),[]),t&&(0,o.qn)(c)}},967053:function(e,t,n){n.d(t,{Pt:function(){return I},f0:function(){return D},lq:function(){return U}});var r=n(76911),o=n(48676),a=n(231486),i=n(6637),c=n(371415),s=n(383690),u=n(743413),l=n(983360),_=n(628551),d=n(290148),f=n(81759),p=n(408330),g=n(957191),m=n(630135),h=n(643010),v=n(539278),y=n(396910),b=n(330102),w=n(297507),k=n(3223),O=n(693099),E=n(867820),P=n(226198),A=n(969230),R=n(408285),T=n(957161);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,o)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){C(a,r,o,i,c,"next",e)}function c(e){C(a,r,o,i,c,"throw",e)}i(void 0)}))}}var j=function(e,t,n){return{type:l.Df,payload:{user:e,active:t,triggerable:n}}},D=function(){var e=(0,o.useDispatch)(),t=(0,o.useSelector)((function(e){return e.session})),n=(0,s.Z)();return(0,r.useCallback)(function(){var r=x(regeneratorRuntime.mark((function r(o,s){var l,h,S,L,C,x,D,I,U,Z,M,F,G,z,H,B,W,Y,q,V,K,X,J,$,Q,ee,te,ne=arguments;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l=ne.length>2&&void 0!==ne[2]?ne[2]:"/",h=ne.length>3&&void 0!==ne[3]?ne[3]:{isAutologin:!1,isSwitchAccount:!1,noLocationReplace:!1,recaptchaV3Token:"default",noImmediateRedirect:!1,useAlternativeResourceCall:!1,trigger:"other",accountUnlinked:!1},n(),S=t.country,L=t.country_from_hostname,C=t.country_from_ip,x=t.region_from_ip,D=t.isTablet,I=t.isMobile,U=t.origin,Z=t.referrer,M=t.facebookToken,F=!D&&!I,G=h.isAutologin,z=h.isSwitchAccount,H=h.noLocationReplace,B=h.recaptchaV3Token,W=h.noImmediateRedirect,Y=h.useAlternativeResourceCall,q=h.trigger,V=h.accountUnlinked,K=(0,y.lJ)(U)&&!1,X=N(N({get_user:!0},o),{},{app_type_from_client:6,recaptchaV3Token:B}),(J=(0,f.t_)())&&(X=N(N({},X),{},{visited_pages_before_login:J})),$=K?(0,y.N5)(N(N({referrer:Z,facebook_id:M},o),{},{recaptchaV3Token:B})):i.ZP.create("UserSessionResource",X).callCreate(),Y&&o.username_or_email&&o.password&&((Q=new FormData).append("username",o.username_or_email),Q.append("password",o.password),ee={method:"POST",body:Q,credentials:"include",headers:{Accept:"application/json, text/javascript, */*","X-CSRFToken":(0,_.getCsrfToken)()||"","X-Requested-With":"XMLHttpRequest"}},$=fetch("/resource/UserSessionResource/create/",ee).then((function(e){if(200!==e.status){var t=new Error(e.statusText);throw t.response=e,t}return e.json()})).catch((function(e){return Promise.reject(e)}))),r.prev=12,G&&(0,E.dy)({event:"login_api_call_start",provider:o.google_open_id_token?"google":"facebook"}),r.next=16,$;case 16:te=r.sent,G&&(0,E.dy)({event:"login_api_call_success",provider:o.google_open_id_token?"google":"facebook"}),e(j(te.resource_response.data.user,te.client_context.active_experiments,te.client_context.triggerable_experiments)),e((0,g.OD)(te.client_context.placed_experiences)),(0,c.Z)("authentication.login_success"),(0,A.h3)({action:G?"autologin":"login",type:(0,d.lp)(o),trigger:q}),a.zN(P.e7.name),a.zN(P.x3.name),(0,T.Nh)(O.AA,1),"/"!==l&&(0,m.E)(!0),z?(0,R.Dm)().then((function(){var e,t,n="/".concat((null===(e=te.resource_response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.user.username)||"")+(V?"?message=".concat(v.aU):"");window.location.href=n})):G&&!F||W||(0,p._)({forceFullPageNavigation:F,history:s,next:l,noLocationReplace:H}),(0,k.c_)({country:S,countryFromHostName:L,countryFromIp:C})&&(0,w.yP)({id:u.gC,eventCategory:"Logins",eventName:"Mobile"}),(0,k.$r)({country:S,countryFromHostName:L,countryFromIp:C,regionFromIp:x})&&(0,w.jw)({id:"flashtalking-m-login",eventCategory:"Logins",eventName:"Mobile"}),(0,k.NR)(S,x)&&(0,w.EN)({pixelId:b.Rj,eventCategory:"Logins",eventName:"Mobile"}),(0,k.Fc)({country:S,countryFromHostName:L,countryFromIp:C})&&(0,w.Be)({pixelId:b.HO,eventCategory:"Logins",eventName:"Mobile"}),r.next=44;break;case 33:if(r.prev=33,r.t0=r.catch(12),G&&(0,E.dy)({event:"login_api_call_failure",provider:o.google_open_id_token?"google":"facebook"}),1201!==r.t0.apiErrorCode||G||F){r.next=41;break}o.google_open_id_token&&(o.gplus_id_token=o.google_open_id_token),s&&s.push({pathname:"/login/mfa/",state:{creds:o,next:l,phoneNumber:r.t0.data.phone_number_end}}),r.next=44;break;case 41:throw(0,A.wp)({action:G?"autologin":"login",type:(0,d.lp)(o),trigger:q}),z&&(0,c.Z)("authentication.login_error"),r.t0;case 44:case"end":return r.stop()}}),r,null,[[12,33]])})));return function(e,t){return r.apply(this,arguments)}}(),[e,t,n])},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{logoutOnAbort:!1};return function(){var t=x(regeneratorRuntime.mark((function t(n,r){var o,s,u,l,_,d,f,p,g,v,y;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r(),s=o.session,u=e.redirectUrl,l=e.localStorageItems,_=e.logoutOnAbort,d=e.reason,f=void 0===d?"user_initiated":d,p=e.source,g=!s.isTablet&&!s.isMobile,v="_epik_localstore",(0,E.tj)("logout.attempt",{tags:{app:"web_mobile",reason:f,source:p}}),t.prev=5,t.next=8,i.ZP.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete();case 8:t.next=18;break;case 10:if(t.prev=10,t.t0=t.catch(5),!_||"abort"!==(null===t.t0||void 0===t.t0?void 0:t.t0.type)){t.next=16;break}(0,c.Z)("logout.logout_ignored"),t.next=18;break;case 16:throw(0,E.tj)("logout.error",{tags:{app:"web_mobile",reason:f,source:p}}),t.t0;case 18:if((0,c.Z)("logout.logout_success"),(0,E.tj)("logout",{tags:{app:"web_mobile",reason:f,source:p}}),a.t8(P.e7,"True",(0,a.kZ)(P.e7)),(0,m.E)(!1),(0,T.L_)(h.Uf),(0,T.L_)(O.E9),(0,T.L_)(R.RH),(0,T.L_)(void 0),(0,T.L_)(v),l)for(y in l)(0,T.Nh)(y,l[y]);return t.next=30,(0,R.Dm)();case 30:u?window.location.href=u:g&&(window.location.href="/");case 31:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(e,n){return t.apply(this,arguments)}}()},U=function(){var e=(0,o.useDispatch)(),t=(0,s.Z)();return function(n){t(),e(j(n.resource_response.data.user,n.client_context.placed_experiences,n.client_context.active_experiments)),e((0,g.OD)(n.client_context.placed_experiences))}}},332730:function(e,t,n){var r=n(56641),o=n(954931),a=n(867820);t.Z=function(e){(0,o.Z)(e)||(e="/",(0,a.My)("url_reset")),(0,r.Z)(e,!1)}},539278:function(e,t,n){n.d(t,{Di:function(){return d},Jl:function(){return u},R:function(){return l},ZP:function(){return h},aU:function(){return f},j2:function(){return _},pN:function(){return p},rL:function(){return v},vW:function(){return m}});var r=n(116303),o=n(499128),a=n(349700),i=n(826067),c=n(908390),s=n(515198),u=7e3,l="permanent_account_closure",_="account_deletion_email_sent",d="account_deactivated",f="unlink_successful",p="account_switch_to_settings";function g(e,t,n){return(0,s.jsx)(c.xv,{align:n||"center",children:(0,a.nk)(e,{username:(0,s.jsx)(c.xv,{inline:!0,weight:"bold",children:t})})})}function m(e){var t=e.i18n,n=e.message,r=e.multipleAccounts,o=e.username,a=void 0===o?"":o;switch(n){case l:return t._('Your account has been deleted. We\'re sad to see you go', 'unauthLoginPage.accountDeletedToast.message', 'Confirmation message after a user has successfully deleted their account');case _:return g(r?t._('An email has been sent with final steps to delete your account, {{username}} and its linked accounts', 'accountDeletedEmailToast.message.multipleAccounts', 'Confirmation message after a user has successfully requested multiple accounts deletion'):t._('An email has been sent with final steps to delete your account, {{username}}', 'accountDeletedEmailToast.message.singleAccount', 'Confirmation message after a user has successfully requested a single account deletion'),a);case d:return g(r?t._('The account, {{username}}, and its associated linked accounts have been deactivated', 'unauthLoginPage.deactivatedToast.message.multipleAccounts', 'Confirmation message after a user has successfully deactivated multiple accounts'):t._('The account, {{username}}, has been deactivated', 'unauthLoginPage.deactivatedToast.message.singleAccount', 'Confirmation message after a user has successfully deactivated a single account'),a);case f:return g(t._('Success! You\'ve unlinked this business account. You are currently in {{username}}.', 'authHomeFeedPage.unlinkAccountToast.message', 'Confirmation message after a user has successfully unlinked business account'),a,"start");case p:return g(t._('You\'ve switched into and are currently in the account {{username}}', 'accountSettings.switchAccountToAccountChanges', 'Confirmation message after a user has successfully switched accounts and got redirected to Account Changes'),a,"start");default:return""}}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!t||!t.search)return"";var r=(0,i.mB)(t.search).message,o=(0,i.mB)(t.search).username||n,a="true"===(0,i.mB)(t.search).multiple_accounts;return m({i18n:e,message:r,multipleAccounts:a,username:o})}function v(e){var t=e.showOneToast,n=e.i18n,a=e.location,c=e.history,l=e.username,_=e.fullName,d=e.avatarUrl;if(a&&a.search){var g=h(n,a,l||""),m=(0,i.mB)(a.search).message,v=m===p||m===f;g&&(t((function(e){var t=e.hideToast;return(0,s.jsx)(o.ZP,{duration:u,onHide:t,text:g,iconThumbnail:v?(0,s.jsx)(r.Z,{name:_||"",src:d||"",size:"md"}):null})})),c.replace(a.hash?"".concat(a.pathname).concat(a.hash):a.pathname))}}},396910:function(e,t,n){n.d(t,{N5:function(){return f},$p:function(){return p},lJ:function(){return _},VY:function(){return g}});var r=n(172071),o=n(6637),a=n(966113);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){return Object.keys(e).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))})).join("&")},u=function(e,t,n){return new Promise((function(r,o){var a=new XMLHttpRequest;a.withCredentials=!0,a.open(t,e),"POST"===t&&a.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8"),a.onload=function(){try{var e=JSON.parse(a.responseText);"success"===e.status?r(e):o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({apiErrorCode:e.code,httpStatus:a.status},e))}catch(t){o({httpStatus:a.status,message:t.message})}},a.onerror=function(){return o(a.statusText)},a.send(n)}))},l=function(e,t,n){r.Z.increment("client.events.login.".concat(t?"auto":"manual",".").concat(e),1,{source:n})},_=function(e){return a.Z.settings.CORS_HANDSHAKE_DOMAINS.includes(e)},d=function(e){return o.ZP.create("HandshakeSessionResource",{token:e,get_user:!0}).callCreate()},f=function(e){var t={},n=!1,r=e.facebook_id?"facebook/handshake":e.gplus_id_token?"gplus/handshake":e.mfa_token?"mfa/handshake":"handshake";if(e.username_or_email&&(t.username_or_email=e.username_or_email.trim(),t.password=e.password,t.referrer=e.referrer,t.token=e.recaptchaV3Token),e.facebook_id){n=e.facebook_autologin||!1;var o=e.facebook_token||"";t.facebook_id=e.facebook_id,t.facebook_token=o,t.facebook_autologin=n}e.gplus_id_token&&(n=e.gplus_autologin||!1,t.gplus_id_token=e.gplus_id_token,t.gplus_access_token=e.gplus_access_token,t.gplus_expires_at=e.gplus_expires_at,t.gplus_autologin=n),e.mfa_token&&(t.mfa_token=e.mfa_token);var i="/v3/login/".concat(r,"/");return l("attempt",n,i),u("".concat(a.Z.settings.ACCOUNTS_PINTEREST_URL).concat(i),"POST",s(t)).then((function(e){if(l("success",n,i),e&&e.data)return d(e.data);throw new Error("No custom access token in cross domain login response")})).catch((function(e){throw l("failure",n,i),e}))},p=function(e){var t,n,r={},o=e.facebook_id?"facebook/handshake":e.gplus_code||e.gplus_id_token?"gplus/handshake":"email/handshake";if(r.email=e.email||"",r.username=e.username||"",r.password=e.password||"",r.first_name=e.first_name||"",r.last_name=e.last_name||"",r.country=e.country||"",r.locale=e.locale,r.referrer=e.referrer,e.age&&(r.birthday=(t=e.age,(n=new Date).setFullYear(n.getFullYear()-parseInt(t,10)),parseInt(n/1e3,10).toString())),e.custom_gender&&(r.custom_gender=e.custom_gender),e.gender&&(r.gender=e.gender),e.invite_code&&(r.invite_code=e.invite_code),e.facebook_id){var i=e.facebook_token||"";r.facebook_id=e.facebook_id,r.facebook_token=i,r.social_username=e.social_username||""}else(e.gplus_code||e.gplus_id_token)&&(r.password=e.password||"",r.one_time_code=e.gplus_code,r.id_token=e.gplus_id_token,r.redirect_uri=e.gplus_redirect_uri);return e.recaptchaV3Token&&(r.recaptcha_v3_token=e.recaptchaV3Token),u("".concat(a.Z.settings.ACCOUNTS_PINTEREST_URL,"/v3/register/").concat(o,"/"),"POST",s(r)).then((function(e){if(e&&e.data)return d(e.data);throw new Error("No custom access token in cross domain register response")})).catch((function(e){throw e}))},g=function(){return u("".concat(a.Z.settings.ACCOUNTS_PINTEREST_URL,"/v3/handshake/verify/"),"GET").then((function(e){if(e&&e.data)return d(e.data);throw new Error("No custom access token in cross domain verify response")})).catch((function(e){throw e}))}},290148:function(e,t,n){n.d(t,{Ny:function(){return p},eD:function(){return h},lp:function(){return m}});var r=n(231486),o=n(794230),a=n(704115),i=n(332730),c=n(6637),s=n(704177),u=n(966113),l=n(226198),_=n(45169),d=n(867820);function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6}),g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,_;return t=e,_=[{key:"defaultLoginRedirectUrl",value:function(){return window.location.pathname===u.Z.settings.PASSWORD_RESET_URL||window.location.pathname===u.Z.settings.LOGIN_URL||window.location.pathname.startsWith(u.Z.settings.ADD_SECONDARY_ACCOUNT_PAGE)?"/":window.location.pathname+window.location.search}},{key:"defaultSocialLoginRedirectUrl",value:function(){return window.location.pathname.startsWith(u.Z.settings.ADD_SECONDARY_ACCOUNT_PAGE)?"/":window.location.pathname}},{key:"isExceedRecaptchaLocalLimit",value:function(){var e=s.ZP.localStorage.getItem("urh");if(e&&e.indexOf("|")>-1){var t=e.split("|");return 3===t.length&&(new Date).getTime()/1e3-parseInt(t[0],10)<=3600}return!1}},{key:"updateRecaptchaTimeStamp",value:function(){var e=s.ZP.localStorage.getItem("urh"),t=[];e&&3===(t=e.split("|")).length&&t.shift();var n=((new Date).getTime()/1e3).toString();t.push(n);var r=t.join("|");s.ZP.localStorage.setItem("urh",r)}},{key:"isFullyLoggedIn",value:function(e,t){return e&&1===t}},{key:"handleRedirect",value:function(e){if(!e){e="/";var t=(0,a.Z)();if(t){var n=t.next;n&&(e=n,delete t.next),e=(0,o.Z)(e,t)}}(0,i.Z)(e)}},{key:"handleRedirectWithFallbackWindowLocation",value:function(){this.handleRedirect(this.defaultLoginRedirectUrl())}},{key:"handleSignupRedirect",value:function(t,n){s.ZP.localStorage.setItem("signupTime",Date.now()),!n&&t&&"/"!==t?e.handleRedirect(t):e.handleRedirect("/")}},{key:"storeLoginCredentialsToBrowser",value:function(e){if(navigator.credentials&&e.username_or_email)try{var t=new window.PasswordCredential({id:e.username_or_email,password:e.password});navigator.credentials.store(t).then((function(){(0,d.My)("navigatorCredentials.store.success")}))}catch(n){(0,d.My)("navigatorCredentials.store.error")}}},{key:"retrieveLoginCredentialsFromBrowser",value:function(){var e=window.navigator.credentials;return e?e.get({password:!0,mediation:"silent"}):new Promise((function(e,t){t()}))}},{key:"attemptLoginWithBrowserCredentials",value:function(e,t,n){return e?(e.password?(o="include",(r=new FormData).append("username",e.id),r.append("password",e.password)):o=e,fetch("/resource/UserSessionResource/create/",{method:"POST",body:r,credentials:o,headers:{Accept:"application/json, text/javascript, */*","X-CSRFToken":t||"","X-Pinterest-AppState":n,"X-Requested-With":"XMLHttpRequest"}}).then((function(e){if(200!==e.status){var t=new Error(e.statusText);throw t.response=e,t}return(0,d.My)("navigatorCredentials.login.success"),e.json()})).catch((function(e){return(0,d.My)("navigatorCredentials.login.failure"),Promise.reject(e)}))):new Promise((function(e,t){t("No credentials")}));var r,o}},{key:"fetchRecentlyLoggedOutUser",value:function(e){if(e)return Promise.reject();var t=c.ZP.create("UnauthUserDataResource");return new Promise((function(e,n){t.callGet().then((function(t){var o=t.resource_response.data,a=!!r.U2(l.x3);return o?(o.connected_to_facebook||o.connected_to_google||o.has_password||(0,d.My)("unauth.personalized_login.no_login_methods_found"),(0,d.My)("unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_".concat(a?"true":"false")),e(o)):((0,d.My)("unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_".concat(a?"true":"false")),n({}))})).catch((function(e){if(e.message){var t=e.message.replace(/\s/g,"_").toLowerCase();(0,d.My)("unauth.personalized_login.fetch_user_info.error.".concat(t))}else(0,d.My)("unauth.personalized_login.fetch_user_info.error.unknown");return n(e)}))}))}},{key:"handleLoginMfa",value:function(t,n,r){(0,d.My)("multi_step_login"),e.storeLoginCredentialsToBrowser(t),r?r(t,n):(0,d.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}],(n=null)&&f(t.prototype,n),_&&f(t,_),e}();function m(e){return e.facebook_id?_.sr.FACEBOOK:e.google_open_id_token?_.sr.GOOGLE_ONE_TAP:e.gplus_id_token?_.sr.GOOGLE:e.line_id_token?_.sr.LINE:e.username_or_email?_.sr.EMAIL:_.sr.OTHER}function h(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":m(e)}t.ZP=g},45169:function(e,t,n){n.d(t,{E_:function(){return u},NN:function(){return c},du:function(){return s},sR:function(){return i},sr:function(){return a}});var r=n(966113),o=n(693099),a={FACEBOOK:"facebook",GOOGLE_ONE_TAP:"google_one_tap",GOOGLE:"google",LINE:"line",EMAIL:"email",OTHER:"other"},i=function(e){return e.facebook_id?a.FACEBOOK:e.google_open_id_token?a.GOOGLE_ONE_TAP:e.gplus_code||e.gplus_id_token?a.GOOGLE:e.line_id_token?a.LINE:e.email?a.EMAIL:a.OTHER},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e in r.Z.settings.MINIMUM_AGE_BY_EU_COUNTRY},s=function(e){return o.rT.includes(e)||o.ZR.has(e)||c(e)},u={GOOGLE:"g",FACEBOOK:"fb",PINTEREST:"p",APPLE:"apl",LINE:"ln",UNKNOWN:"unk"}},383690:function(e,t,n){var r=n(76911),o=n(862624);t.Z=function(){var e=(0,o.Y)();return(0,r.useCallback)((function(){e.flush()}),[e])}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/67053-8d381d2f261163d3.js.map