"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[82020],{932995:function(e,r,t){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return o(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function i(e,r,t){var o=n(e),i=o.splice(r,1)[0];return o.splice(t,0,i),o}t.d(r,{Z:function(){return i}})},909499:function(e,r,t){t.d(r,{Hd:function(){return c},_R:function(){return o},lw:function(){return n},wF:function(){return i}});var n={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},o=function(e){switch(e){case n.PINS:return 43;case n.PINS_MINE:return 107;case n.PINS_BUYABLE:return 254;case n.PINS_VIDEO:return 3306;case n.BOARDS:return 44;case n.USERS:return 45;default:return null}},i=function(e){switch(e){case n.PINS:return 60;case n.PINS_MINE:return 63;case n.PINS_BUYABLE:return 3800;case n.PINS_VIDEO:return 64;case n.BOARDS:return 61;case n.USERS:return 62;default:return null}},c=function(e){switch(e){case n.USERS:return 1000392;case n.PINS_BUYABLE:return 1000391;case n.PINS:default:return 29}}},648284:function(e,r,t){function n(e){var r=e.appliedProductFilters,t=e.autoCorrectionDisabled,n=e.filters,o=e.query,i=e.scope,c=e.selectedPinImgSig,a=[i,n,r,e.user,c,o].map((function(e){return null!=e?e:""})).join(":");return t?"auto-correction-disabled:"+a:a}function o(e){var r=e.autoCorrectionDisabled,t=void 0!==r&&r,n=e.appliedFilters,o=void 0===n?null:n,i=e.appliedProductFilters,c=void 0===i?null:i,a=e.bubbleId,u=void 0===a?null:a,s=e.filters,d=void 0===s?null:s,l=e.query,p=void 0===l?null:l,f=e.rs,_=void 0===f?"direct_navigation":f,y=e.scope,m=void 0===y?"pins":y,R=e.selectedPinImgSig,I=void 0===R?null:R,v=e.sourceId;return{article:u,applied_filters:o,appliedProductFilters:c,auto_correction_disabled:t,corpus:I?"personalize":null,customized_rerank_type:I?"manas_graph_sage_only_wand_rewrite":null,filters:d,query:p,query_pin_sigs:I,redux_normalize_feed:!0,rs:_,scope:m,source_id:void 0===v?null:v,user:e.user}}function i(e){var r=e.autoCorrectionDisabled,t=e.appliedProductFilters,n=e.appliedFilters,i=e.filters,c=e.selectedPinImgSig;return{name:"BaseSearchResource",options:o({autoCorrectionDisabled:!!r,appliedProductFilters:t,appliedFilters:n,filters:i,query:e.query,rs:e.rs,scope:e.scope,selectedPinImgSig:c,bubbleId:e.bubbleId,user:e.user})}}t.d(r,{Ht:function(){return i},Tb:function(){return n},dM:function(){return o}})},91456:function(e,r,t){t.d(r,{GY:function(){return c},LM:function(){return u},h9:function(){return s},r$:function(){return a}});var n=t(305689),o=t(909499),i=["search_articles_story","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_for_you_upsell"];function c(e){var r=e.query,t=e.scope;return"".concat(r,"-").concat(t)}function a(e,r){var t=e.query,i=e.rs,c=e.scope,a=(0,n.Hb)(),u=!a.view_type&&!a.view_parameter,s=(0,o.wF)(c);!u&&s&&r({event_type:s,view_type:a.view_type,view_parameter:a.view_parameter,aux_data:{query:t,rs:i||"Unknown"}});"hashtag_closeup"===i?r({event_type:101,component:13065,element:10273,view_type:142}):"hashtag_pinrep"===i&&r({event_type:101,component:0,element:10349,view_type:142})}var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=!0;return e.reduce((function(e,t){var n;return r&&t.story_type&&i.includes(t.story_type)&&0===(null===(n=t.display_options)||void 0===n?void 0:n.num_columns_requested)?e.searchFullWidthStories.push(t):(r=!1,e.filteredResults.push(t)),e}),{searchFullWidthStories:[],filteredResults:[]})};function s(e){var r=(e||{}).results;return!!(void 0===r?[]:r).find((function(e){return!(null==e||!e.is_eligible_for_filters)}))}},848900:function(e,r){r.Z=function(e,r){return"".concat(e,":").concat(r||"")}},778821:function(e,r,t){t.d(r,{DV:function(){return v},J:function(){return g}});var n=t(848900),o=t(932995),i=t(47495),c=t(91456),a=t(648284),u=t(983360),s=t(583228),d=t(338739);function l(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,o,i=[],c=!0,a=!1;try{for(t=t.call(e);!(c=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);c=!0);}catch(u){a=!0,o=u}finally{try{c||null==t.return||t.return()}finally{if(a)throw o}}return i}(e,r)||_(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,r){if(e){if("string"==typeof e)return y(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?y(e,r):void 0}}function y(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function m(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function R(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?m(Object(t),!0).forEach((function(r){I(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function I(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var v={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregatedCommentReplies",BOARD_PINS:"boardPins",BOARDLESS_PINS:"boardlessPins",BOARD_SECTIONS:"boardSections",CALL_TO_CREATE_RESPONSES_FEED:"callToCreateResponsesFeed",CREATED_TAB_STORY_PINS_FEED:"createdTabStoryPinsFeed",CREATED_TAB_ACTIVITY_PINS_FEED:"createdTabActivityPinsFeed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",SECTION_PINS:"sectionPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unifiedComments",USER_DID_IT_DATA:"userDidItData"},b=new Set(["PinResource","RepinResource"]),S={ApiResource:function(e){return"/v3/orientation/nux_creator_recommendations/"===(null==e?void 0:e.url)?"nux-creator-recommendations":null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?"call-to-create-pins:".concat(e.pin_id):"/v3/users/me/interests/"===(null==e?void 0:e.url)?"recommended-interests:".concat(null===(r=e.data)||void 0===r?void 0:r.blend_type):"";var r},AggregatedActivityFeedResource:function(e){return"trieditfeed:".concat(e.aggregated_pin_data_id)},AggregatedCommentFeedResource:function(e){return"aggregated-comments:".concat(e.objectId)},AggregatedCommentReplyFeedResource:function(e){return"aggregated-comment-replies:".concat(e.objectId)},BoardlessPinsResource:function(e){return"boardless-pins:".concat(e.userId)},BestPinsFeedAltResource:function(e){return"idea-page-best-pins:".concat(e.interest)},BoardArchiveResource:function(e){return"archived-boards"},BoardCollaboratorsResource:function(e){return"board-collaborators:".concat(e.board_id)},BoardContentRecommendationResource:function(e){return"recommendation-feed:".concat(e.id)},BoardFeedResource:function(e){return"boardfeed:".concat(e.board_id)},BoardSectionsRepinResource:function(e){return"board-sections:".concat(e.board_id)},BoardSectionsResource:function(e){return"board-sections:".concat(e.board_id)},BoardSectionPinsResource:function(e){return"board-section-pins:".concat(e.section_id)},BoardsFeedResource:function(e){return"profile-boards:".concat(e.username)},BoardToolsFeedResource:function(e){return"board-tools:".concat(e.boardId)},ConversationsResource:function(e){return"conversations"},DidItCommentsResource:function(e){return"aggregated-comment-replies:".concat(e.objectId)},DidItLikedByResource:function(e){return"triedit-likes:".concat(e.didItDataId)},DidItUserFeedResource:function(e){return"profile-tried:".concat(e.username)},ExploreArticleBlockSearchResource:function(e){return"explore-search:".concat(e.article_id,":").concat(e.block_id)},ExploreArticleBlockUserResource:function(e){return"explore-user:".concat(e.article_id,":").concat(e.block_id)},ExploreArticleBlockPinResource:function(e){return"explore-pin:".concat(e.article_id,":").concat(e.block_id)},ExploreArticleBlockUserDidItDataResource:function(e){return"explore-did_it:".concat(e.article_id,":").concat(e.block_id)},ExploreArticleResource:function(e){var r=e.response;if(!r)return"";var t="explore_tab_pin".length,n=r.resource_response.data,o=(n?n.objects[0]:{story_type:""}).story_type;return"explore-".concat(o.slice(t),":").concat(n.id)},FollowingFeedResource:function(){return"following"},HolidaySpotlightRelatedFeedResource:function(e){return"holiday-spotlight-related:".concat(e.storyType)},HolidaySpotlightResource:function(e){return"holiday-spotlight:".concat(e.storyType)},InterestResource:function(e){return"klp-pins:".concat(e.interest)},MoreIdeasTabsBoardsResource:function(){return"homefeed-more-ideas-tabs"},NewsHubResource:function(){return"notifications"},NewsHubDetailsResource:function(e){return"newshubdetail:".concat(e.news_id)},NuxInterestsResource:function(e){return"nuxTopics"},PinsFromBrandResource:function(e){return"brand-pins:".concat(e.pin)},ReactionsResource:function(e){return"reactions:".concat(e.pin_id)},RelatedArticlesResource:function(e){return"related-articles:".concat(e.article_id)},RelatedModulesResource:function(e){return"related-modules:".concat(e.pin_id)},RelatedPinFeedResource:function(e){return"related-pins:".concat(e.pin)},RelatedProductFeedResource:function(e){return"pin"===e.shop_source?"closeup-related-products:".concat(e.pin):"related-products:".concat(e.pin)},RelatedStreamResource:function(e){return"related-story-pins:".concat(e.pinId)},SearchResource:function(e){var r="search:".concat(e.scope,":").concat(e.query,":").concat(e.filters||"",":").concat(e.article||"");return e.auto_correction_disabled?"".concat(r,":auto-correction-disabled"):r},BaseSearchResource:function(e){var r="search:".concat(e.scope,":").concat(e.query,":").concat(e.filters||"",":").concat(e.appliedProductFilters,":").concat(e.article||"");return e.auto_correction_disabled?"".concat(r,":auto-correction-disabled"):r},SectionToolsFeedResource:function(e){return"section-tools:".concat(e.sectionId)},ShareSuggestionsTypeaheadResource:function(e){return"share-suggestions:".concat(e.board||e.user,":").concat(e.term)},ShoppingFeedModularizedResource:function(e){return e.saved_products_only?"board-shop-saved:".concat(e.board_id):"board-shop-related:".concat(e.board_id)},StoryFeedResource:function(e){return"story-feed:".concat(e.feed_type,":").concat(e.request_params)},SuggestedCreatorFollowsResource:function(){return"suggested-creator-follows"},StoryPinTaggedProductsResource:function(){return"story-pin-tagged-products"},TodayArticleFeedResource:function(e){return"today-article:".concat(e.id)},IdeasHubTodayArticlesResource:function(e){return"today-article:".concat(e.interest_id)},TodayTabInterestFeedResource:function(e){return"today-article-interestfeed:".concat(e.interest_id)},TodayTabResource:function(){return"today-tab"},SeoTier1CandidateResource:function(){return"tier1-feed"},UnifiedCommentsResource:function(e){return"unified-comments:".concat(e.aggregated_pin_id)},UserActivityPinsResource:function(e){return"profile-pins-feed:".concat(e.user_id)},UserHomefeedResource:function(e){return e.pin_quiz?"pin-quiz":"homefeed"},UserFollowingResource:function(e){return"user-following:".concat(e.username)},UserRecentActivityResource:function(){return"user-recent-activity"},UserSimilarBusinessesResource:function(e){return"user-similar-business:".concat(e.username)},UserStoryPinsFeedResource:function(e){return"story-pins-feed:".concat(e.user_id)},VideosFeedResource:function(e){return"videos-feed"},VisualLiveSearchResource:function(e){return"visual-search:".concat(e.pin_id,":").concat(e.crop.x).concat(e.crop.y).concat(e.crop.w).concat(e.crop.h)},VisualLiveSearchProductFeedResource:function(e){return"visual-search-products:".concat(e.pin_id,":").concat(e.crop.x).concat(e.crop.y).concat(e.crop.w).concat(e.crop.h)},VisualSearchFlashlightUnifiedResource:function(e){return"related-products-unified:".concat(e.pin_id)},BoardFollowingResource:function(e){return"board-following:".concat(e.username)},InterestFollowingResource:function(e){return"topic-following:".concat(e.username)},UserPinsResource:function(e){return"profile-pins:".concat(e.username)},TopicFeedResource:function(e){return e.best_pins?"best-topic-pins:".concat(e.interest):"topic-pins:".concat(e.interest)}},E={ApiResource:function(e){var r=e.options;return null!=r&&r.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?{type:v.CALL_TO_CREATE_RESPONSES_FEED,id:r.pin_id}:null},AggregatedActivityFeedResource:function(e){var r=e.options.aggregated_pin_data_id;return{type:v.USER_DID_IT_DATA,id:r}},AggregatedCommentFeedResource:function(e){var r=e.options.objectId;return{type:v.AGGREGATED_COMMENTS,id:r}},AggregatedCommentReplyFeedResource:function(e){var r=e.options,t=r.isUnifiedComment,n=r.objectId;return{type:t?v.AGGREGATED_COMMENT_REPLIES:v.AGGREGATED_COMMENTS,id:n,reversed:!0}},BoardFeedResource:function(e){var r=e.options.board_id;return{type:v.BOARD_PINS,id:r}},BoardlessPinsResource:function(e){var r=e.options.userId;return{type:v.BOARDLESS_PINS,id:r}},BoardSectionPinsResource:function(e){var r=e.options.section_id;return{type:v.SECTION_PINS,id:r}},BoardSectionsResource:function(e){var r=e.options.board_id;return{type:v.BOARD_SECTIONS,id:r}},BoardsResource:function(e){var r=e.options,t=r.username,o=r.sort;return{type:v.PROFILE_BOARDS,id:(0,n.Z)(t,o)}},BaseSearchResource:function(e){var r,t=e.options,n=t.auto_correction_disabled,o=t.appliedProductFilters,i=t.scope,u=t.filters,s=t.query_pin_sigs,d=t.query,l=t.user,p=e.response;return{type:v.SEARCH_PINS,id:(0,a.Tb)({appliedProductFilters:o,autoCorrectionDisabled:n,filters:u,query:d,selectedPinImgSig:s,scope:i,user:l}),items:null!==(r=p.resource_response.data)&&void 0!==r&&r.results?(0,c.LM)(p.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:function(e){var r=e.options.objectId;return{type:v.AGGREGATED_COMMENTS,id:r,reversed:!0}},DidItUserFeedResource:function(e){var r=e.options.username;return{type:v.USER_DID_IT_DATA,id:r}},IdeasHubTodayArticlesResource:function(e){var r=e.options.interest_id;return{type:v.TODAY_TAB,id:r}},RelatedArticlesResource:function(e){var r=e.options.article_id;return{type:v.TODAY_TAB,id:r}},StoryPinDraftsResource:function(e){var r=e.options.userId;return{type:v.STORY_PIN_DATA,id:r}},TodayTabInterestFeedResource:function(e){var r=e.options.interest_id;return{type:v.TODAY_ARTICLE_INTEREST_FEED,id:r}},TodayTabResource:function(){return{type:v.TODAY_TAB,id:"todayTab"}},UnifiedCommentsPreviewResource:function(e){var r=e.options.aggregated_pin_id;return{type:v.UNIFIED_COMMENTS,id:r}},UnifiedCommentsResource:function(e){var r=e.options,t=r.aggregated_pin_id,n=r.is_reversed;return{type:v.UNIFIED_COMMENTS,id:t,reversed:n}},UserActivityPinsResource:function(e){var r=e.options.user_id;return{type:v.CREATED_TAB_ACTIVITY_PINS_FEED,id:r}},UserStoryPinsFeedResource:function(e){var r=e.response,t=e.options.user_id;return{type:v.CREATED_TAB_STORY_PINS_FEED,id:t,items:r.resource_response.data||[]}}},A=function(e,r){var t=r.pinId,n=r.oldFeedId,o=r.newFeedId;return n===o?e:function(e,r){var t=r.pinId,n=r.feedId;return e[n]?R(R({},e),{},I({},n,[{type:"pin",id:t}].concat(f(e[n])))):e}(function(e,r){var t=r.pinId,n=r.feedId;return e[n]?R(R({},e),{},I({},n,e[n].filter((function(e){return!("pin"===e.type&&e.id===t)})))):e}(e,{pinId:t,feedId:n}),{pinId:t,feedId:o})},g=function(e,r){return e in S?S[e](r):null},T=function(e,r){switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return r===v.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"board_section",id:e.id};case"userdiditdata":return{type:"userdiditdata",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"userdiditdata",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}},D=function(e,r){return r?"board-section-pins:".concat(r):"boardfeed:".concat(e)},h=function(e,r,t){var n=t||i.Z[e];if(n===s.LR)return r.result;if(n===s.sN)return r.result.map((function(e){return{id:e,schema:"board"}}));if(n===s.Gn)return r.result.map((function(e){return{id:e,schema:"user"}}));if(n===s.Ht)return r.result.map((function(e){return{id:e,schema:"invite"}}));if(n===s.fE)return r.result.map((function(e){return{id:e,schema:"reaction"}}));if("object"===p(n)){var o=Object.entries(n).find((function(e){var r=l(e,2);r[0];return r[1]===s.LR}));if(o)return r.result[o[0]]}return null},P=function(e,r){return e.map((function(e){var t,n=e.id,o=e.schema;return o?{id:n,type:o,trackingParams:"pin"===o?r.pins[n].tracking_params:void 0,user_id:"creatorRecommendationItem"===o?null===(t=r.creatorRecommendationItems[n])||void 0===t?void 0:t.user_id:void 0}:null})).filter(Boolean)},O=function(e,r,t){return Object.keys(e).reduce((function(n,o){var i=e[o]||[],c=i.filter((function(e){return!(e.type===r&&e.id===t)}));return i.length!==c.length&&(n[o]=c),n}),R({},e))};r.ZP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;switch(r.type){case d.zP:case d.aW:var t=r.payload,n=t.resource,i=t.options,c=t.normalizedResponse,a=t.schema;if(c&&n in S){var s=h(n,c,a);if(s&&Array.isArray(s)){var l=S[n](i);if("ShoppingFeedModularizedResource"===n){var p,_=null!=i?i:{},y=_.board_id,m=_.saved_products_only,g="board-shop-related:".concat(y),F="board-shop-saved:".concat(y),N="board-shop-saved-preview:".concat(y),B=f(e[g]||[]),C=f(e[F]||[]),w=f(e[N]||[]),M=P(s,c.entities);return M.forEach((function(e){var r;m?C.push(e):c.entities.pins&&(null===(r=c.entities.pins[e.id])||void 0===r?void 0:r.board)===y?w.push(e):B.push(e)})),R(R({},e),{},(I(p={},g,B),I(p,F,C),I(p,N,w),p))}if("BoardToolsFeedResource"===n||"SectionToolsFeedResource"===n)return R(R({},e),{},I({},l,s));var U=(r.type===d.aW&&e[l]||[]).concat(P(s,c.entities));return R(R({},e),{},I({},l,U))}}else{var L,j=t.response.resource_response.data;if(null===(L=t.options)||void 0===L||!L.redux_normalize_feed)return e;var G=E[t.resource](t);if(G){var k=G.type,x=G.id,Y=G.items,z=G.reversed,q=(Y||j||[]).map((function(e){return T(e,k)}));z&&(q=q.reverse());var H="".concat(k,":").concat(x),V=e[H];if(V||r.type!==d.aW){var Z=V||[],W=q;return r.type===d.aW&&(W=z?q.concat(Z):Z.concat(q)),R(R({},e),{},I({},H,W))}}}break;case"FEED_ITEM_REORDERED":var $=r.payload,K=$.feedType,J=$.feedId,X=$.itemType,Q=$.targetItemId,ee=$.sourceItemId,re="".concat(K,":").concat(J),te=e[re]||[],ne=-1,oe=-1;if([v.BOARD_PINS,v.SECTION_PINS,v.BOARD_SECTIONS,"profileBoards"].includes(K)&&(ne=te.findIndex((function(e){return e.type===X&&e.id===ee})),oe=te.findIndex((function(e){return e.type===X&&e.id===Q}))),-1!==ne&&-1!==oe)return R(R({},e),{},I({},re,(0,o.Z)(te,ne,oe)));break;case"FEED_ITEMS_REMOVED":var ie=r.payload,ce=ie.feedType,ae=ie.feedId,ue=ie.inverseSelection,se=ie.itemType,de=ie.itemIds,le=void 0===de?[]:de,pe="".concat(ce,":").concat(ae),fe=e[pe]||[];if(fe&&fe.length>0&&(ce===v.SECTION_PINS||ce===v.BOARD_PINS)){var _e=fe.filter((function(e){var r=le.includes(e.id);return!(e.type===se&&(ue&&!r||!ue&&r))})),ye=!!_e.find((function(e){return"pin"===e.type}));return R(R({},e),{},I({},pe,ye?_e:[]))}if(fe&&fe.length>0&&ce===v.BOARD_SECTIONS){var me=fe.filter((function(e){var r=le.includes(e.id);return!(e.type===se&&r)}));return R(R({},e),{},I({},pe,me))}if(fe&&fe.length>0&&(ce===v.AGGREGATED_COMMENTS||ce===v.BOARDLESS_PINS||ce===v.CREATED_TAB_ACTIVITY_PINS_FEED||ce===v.CREATED_TAB_STORY_PINS_FEED||ce===v.UNIFIED_COMMENTS||ce===v.USER_DID_IT_DATA||ce===v.STORY_PIN_DATA)){var Re=fe.filter((function(e){var r=le.includes(e.id);return!(e.type===se&&r)}));return R(R({},e),{},I({},pe,Re))}break;case"FEED_ITEMS_ADDED":var Ie=r.payload,ve=Ie.feedType,be=Ie.feedId,Se=Ie.itemType,Ee=Ie.itemIds,Ae=void 0===Ee?[]:Ee,ge=Ie.prepend,Te="".concat(ve,":").concat(be),De=e[Te]||[];if(De&&(ve===v.SECTION_PINS||ve===v.BOARD_PINS||ve===v.BOARDLESS_PINS)){var he=Ae.map((function(e){return{id:e,type:Se}})),Pe=0;"story"===(De[0]||{}).type&&(Pe=1),"story"===(De[1]||{}).type&&(Pe=2);var Oe=[].concat(f(De.slice(0,Pe)),f(he),f(De.slice(Pe)));return R(R({},e),{},I({},Te,Oe))}if(De&&ve===v.BOARD_SECTIONS){var Fe=f(Ae).reverse().map((function(e){return{id:e,type:"board_section"}})),Ne=De?[].concat(f(Fe),f(De)):f(Fe);return R(R({},e),{},I({},Te,Ne))}if(ve===v.AGGREGATED_COMMENTS||ve===v.AGGREGATED_COMMENT_REPLIES||ve===v.CREATED_TAB_ACTIVITY_PINS_FEED||ve===v.CREATED_TAB_STORY_PINS_FEED||ve===v.UNIFIED_COMMENTS){var Be=Ae.map((function(e){return{id:e,type:Se}})),Ce=De?[].concat(f(ge?Be:De),f(ge?De:Be)):Be;return R(R({},e),{},I({},Te,Ce))}if(ve===v.USER_DID_IT_DATA){var we=Ae.map((function(e){return{id:e,type:Se}})),Me=De?[].concat(f(we),f(De)):we;return R(R({},e),{},I({},Te,Me))}break;case"FEED_INVALIDATE":var Ue=r.payload,Le=Ue.feedType,je=Ue.feedId,Ge="".concat(Le,":").concat(je),ke=e[Ge]||[];if(ke)return R(R({},e),{},I({},Ge,null));break;case u.MU:var xe,Ye=r.payload,ze=Ye.id,qe=Ye.items,He=Ye.options,Ve=e[ze];return Ve?(xe=He.isPrepend?Ve[0]&&"story"===Ve[0].type?[].concat(Ve[0],qe,Ve.slice(1)):qe.concat(Ve):Ve.concat(qe),R(R({},e),{},I({},ze,xe))):R(R({},e),{},I({},ze,qe));case u.l_:var Ze=r.payload.pinId;return O(e,"pin",Ze);case"BOARD_ARCHIVE":var We=r.payload,$e=We.boardId,Ke=We.username,Je="profile-boards:".concat(null!=Ke?Ke:"");if(e[Je])return R(R({},e),{},I({},Je,e[Je].filter((function(e){return e.id!==$e}))));break;case"BOARD_UNARCHIVE":var Xe=r.payload.boardId,Qe="archived-boards";if(e[Qe])return R(R({},e),{},I({},Qe,e[Qe].filter((function(e){return e.id!==Xe}))));break;case"BOARD_DELETE":var er=r.payload.boardId;return O(e,"board",er);case u.Yn:var rr=r.payload.boardSectionId;return O(e,"boardsection",rr);case u.u2:var tr=r.payload,nr=tr.source,or=tr.target,ir=tr.pinIds,cr=tr.userId,ar=nr.boardlessPins&&cr&&"boardless-pins:".concat(cr)||nr.boardId&&D(nr.boardId,nr.sectionId),ur=D(or.boardId,or.sectionId);return ir.reduce((function(e,r){return A(e,{pinId:r,oldFeedId:ar,newFeedId:ur})}),e);case u.Fl:var sr=r.payload,dr=sr.source,lr=sr.target,pr=sr.excludePinIds,fr=D(dr.boardId,dr.sectionId),_r=D(lr.boardId,lr.sectionId),yr=R(R({},e),{},I({},fr,pr.map((function(e){return{type:"pin",id:e}}))));return delete yr[_r],yr;case u.fz:var mr=r.payload,Rr=mr.pinId,Ir=mr.boardId,vr=mr.section,br=mr.source,Sr=br.boardId,Er=br.sectionId,Ar=D(Sr,Er),gr=D(Ir,null==vr?void 0:vr.id);return A(e,{pinId:Rr,oldFeedId:Ar,newFeedId:gr});case d.AF:if(b.has(r.payload.resource)){var Tr,Dr=r.payload.response.resource_response.data,hr=Dr.board;if("quick_saves"===hr.layout)Tr="boardless-pins:".concat(r.payload.options.user_id);else{var Pr=r.payload.options.section;Tr=Pr?"board-section-pins:".concat(Pr):"boardfeed:".concat(hr.id)}if(e[Tr]){var Or=R({},e),Fr={id:Dr.id,type:"pin",trackingParams:null==Dr?void 0:Dr.tracking_params};return Or[Tr]=[Fr].concat(e[Tr]),Or}}if("BoardSectionResource"===r.payload.resource&&r.payload.normalizedResponse){var Nr=r.payload.normalizedResponse.result,Br=r.payload.normalizedResponse.entities.boardsections[Nr].board,Cr="board-sections:".concat(Br);if(e[Cr]){var wr=R({},e),Mr={id:Nr,type:"boardsection"};return wr[Cr]=[Mr].concat(e[Cr]),wr}}if("Agg2regatedCommentResource"===r.payload.resource&&r.payload.normalizedResponse){for(var Ur=r.payload.normalizedResponse.result,Lr={id:Ur,type:"aggregatedcomment"},jr=["aggregated-comments","unified-comments"],Gr=R({},e),kr=0,xr=jr;kr<xr.length;kr++){var Yr=xr[kr],zr="".concat(Yr,":").concat(r.payload.options.objectId);e[zr]&&(Gr=R(R({},Gr),{},I({},zr,[Lr].concat(Gr[zr]))))}return Gr}if("AggregatedCommentReplyResource"===r.payload.resource&&r.payload.normalizedResponse){var qr="aggregated-comment-replies:".concat(r.payload.options.objectId);return R(R({},e),{},I({},qr,[].concat(f(e[qr]||[]),[{id:r.payload.normalizedResponse.result,type:"aggregatedComment"}])))}if("ReactionsResource"===r.payload.resource&&r.payload.normalizedResponse){var Hr=r.payload.options.reaction_pin_id;if("reaction"===r.payload.options.action_type){var Vr="reactions:".concat(r.payload.options.pin_id),Zr=R({},e),Wr={id:"".concat(Hr,":").concat(r.payload.options.user_id),type:"reaction",trackingParams:void 0};return Zr[Vr]=[Wr].concat(e[Vr]),Zr}if("unreaction"===r.payload.options.action_type){var $r="".concat(Hr,":").concat(r.payload.options.user_id);return O(e,"reaction",$r)}}break;case u.ZX:var Kr=r.payload.storyId;return O(e,"story",Kr)}return e}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/82020-86c2ad7f89cbf287.js.map