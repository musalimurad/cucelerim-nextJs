(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[19126,60547],{182666:function(e){e.exports="https://s.pinimg.com/webapp/btn_base-3772d107.png"},7111:function(e,t,n){"use strict";var o=n(898781),r=n(908390),i=n(515198);t.Z=function(e){var t=e.isInModal,n=(0,o.ZP)();return(0,i.jsx)(r.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:t?"absolute":"fixed",top:!0,width:"100%",zIndex:new r.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},children:(0,i.jsx)(r.$j,{accessibilityLabel:n._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},168907:function(e,t,n){"use strict";var o=n(76911),r=n(48676),i=n(333312),a=n(898781),s=n(365087),l=n(332611),c=n(908390),u=n(856919),d=n(515198);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=504679,b={__path:"M6.75 19.65V4h12v15.65l-6-3.67zm6-.15l5.96 3.64a2 2 0 003.04-1.7V4a3 3 0 00-3-3h-12a3 3 0 00-3 3v17.43a2 2 0 003.04 1.71z"},g={__path:"M3 4C3 2.34315 4.34315 1 6 1H18C19.6569 1 21 2.34315 21 4V21.4339C21 22.9957 19.2898 23.9549 17.9571 23.1404L12 19.5L6.0429 23.1404C4.71019 23.9549 3 22.9957 3 21.4339V4Z"},y={save:{bgColor:"red",icon:"angled-pin"},unsave:{bgColor:"darkGray",icon:"pin"}},m=(0,o.forwardRef)((function(e,t){var n=e.accessibilityLabel,o=e.clickHandler,r=e.SVGPath;return(0,d.jsx)(c.xu,{ref:t,children:(0,d.jsx)(c.hU,{accessibilityLabel:n,bgColor:"red",dangerouslySetSvgPath:r,iconColor:"white",onClick:function(e){var t=e.event;o&&o(t)}})})})),v=function(e,t,n){return(0,d.jsx)(c.hU,{accessibilityLabel:e,bgColor:y[n].bgColor,icon:y[n].icon,iconColor:"white",onClick:function(e){var n=e.event;t&&t(n)}})},x=function(e,t,n,o){return(0,d.jsx)(c.iP,{onTap:function(e){var n=e.event;t&&t(n)},rounding:"pill",fullWidth:!1,children:(0,d.jsx)(c.xu,{color:o,height:40,rounding:6,display:"flex",justifyContent:"center",alignItems:"center",paddingX:3,children:(0,d.jsx)(c.xv,{color:"light",weight:"bold",size:n.length>5?"100":"300",children:n})})})};t.Z=function(e){var t,n=e.buttonText,p=e.clientTrackingParams,h=e.color,y=void 0===h?"red":h,w=e.deviceType,j=e.experience,P=e.hasQuickSave,k=e.hasSaveHandoffExperience,S=e.ideaPinStreamExpGroup,A=e.inline,O=void 0===A||A,C=e.isFirstInStream,T=e.isLegoSaveStyle,z=e.onTouch,E=e.onUnsave,I=e.pinId,L=e.pinnedToBoardId,B=e.shape,R=e.shouldShowSavedButton,Z=e.to,D=e.viewParameter,U=e.viewType,M=(0,a.ZP)(),F=(0,r.useDispatch)(),N=(0,o.useRef)(null),G=(0,r.useSelector)((function(e){return e.experiences}))[1000112],W=(null==G?void 0:G.experience_id)===_,H=(0,s.Z)({clientTrackingParams:p,experience:j,hasSaveHandoffExperience:k,onTouch:z,onUnsave:E,pinId:I,pinnedToBoardId:L,shouldShowSavedButton:R}),V={accessibilityLabel:M._('Pin', 'Pin accessibility label', 'Pin accessibility label'),color:y,inline:T?void 0:O,minHeight:T?48:void 0,onTouch:P?H:z,onUnsave:P?H:E,pressState:"compress",shape:T?"pill":B,size:"lg",text:n||M._('Save', 'Auth mobile web save button for pin closeup', 'Auth mobile web save button for pin closeup'),to:Z,unsaveAccessibilityLabel:M._('Saved', 'SaveButton.ExperimentalSavedButtonAccessibilityLabel', 'Accessibility label on a saved button - Pin has already been saved')},Y=(0,d.jsx)(u.Ai,f(f({},V),{},{deeplinkUri:"deeplinkUri",upsellType:"save",viewType:U,viewParameter:D,clientTrackingParams:p,deviceType:w})),X=(0,d.jsx)(c.zx,{text:V.text,accessibilityLabel:V.unsaveAccessibilityLabel,size:V.size,fullWidth:V.inline,onClick:function(e){var t=e.event;V.onUnsave&&V.onUnsave(t)},selected:!0}),q={SaveButtonContent:(0,d.jsx)(m,{accessibilityLabel:V.accessibilityLabel,clickHandler:function(e){var t;W&&F((0,l.CK)(G.placement_id,G.experience_id)),null===(t=V.onTouch)||void 0===t||t.call(V,e)},SVGPath:b,ref:N}),UnsaveButtonContent:(0,d.jsx)(m,{accessibilityLabel:V.unsaveAccessibilityLabel,clickHandler:V.onUnsave,SVGPath:g})},J={enabled_angled_pin:{SaveButtonContent:v(V.accessibilityLabel,V.onTouch,"save"),UnsaveButtonContent:v(V.unsaveAccessibilityLabel,V.onUnsave,"unsave")},enabled:q,enabled_saved_text:{SaveButtonContent:x(V.accessibilityLabel,V.onTouch,V.text,"primary"),UnsaveButtonContent:x(V.unsaveAccessibilityLabel,V.onUnsave,V.text,"dark")},enabled_logging:{SaveButtonContent:x(V.accessibilityLabel,V.onTouch,V.text,"primary"),UnsaveButtonContent:x(V.unsaveAccessibilityLabel,V.onUnsave,V.text,"dark")},employees:q};if(S&&Object.keys(J).includes(S)){var $=(t=J[S].SaveButtonContent,(0,d.jsx)(u.MZ,f(f({},V),{},{clientTrackingParams:p,deeplinkUri:"deeplinkUri",deviceType:w,isActionButton:!0,upsellType:"save",viewParameter:D,viewType:U,children:t})));Y=C&&["enabled","employees"].includes(S)?(0,d.jsxs)(o.Fragment,{children:[(0,d.jsx)(i.default,{experienceIds:[_],placementId:1000112,anchor:N.current,showCaret:!0,idealDirection:"up",textAlign:"center"}),$]}):$,X=J[S].UnsaveButtonContent}return(0,d.jsx)(c.xu,{"data-test-id":"save-button-mobile",children:R?X:Y})}},497033:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var o=n(48676),r=n(50286),i=n(784590),a=n(908390),s=n(479739),l=n(643010),c=n(378518),u=n(168907),d=n(898781),p=n(515198),f=["buttonText","clientTrackingParams","pinId","pinnedToBoardId","shouldShowSavedButton","to"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var y=0,m={name:"UserResource",options:{},dangerouslyDisableFetch:!0};function v(e){e.buttonText;var t=e.clientTrackingParams,n=e.pinId,h=e.pinnedToBoardId,b=e.shouldShowSavedButton,v=e.to,x=g(e,f),w=(0,d.ZP)(),j=(0,r.ZP)(),P=(0,o.useSelector)((function(e){return e.session.isAuthenticated})),k=(0,o.useSelector)((function(e){return P?(0,s.ts)(e):null})),S=function(e){var t=e.i18n,n=e.isSaved,o=(0,l.Yc)()?"darkGray":"white";return n?{buttonText:t._('Saved', 'closeup.savedButton.text', 'Auth mobile web save button for pin closeup when user has saved the Pin being viewed'),color:o,inline:!1}:Object.freeze({})}({i18n:w,isSaved:b});(0,i.Z)(k?{name:"UserResource",options:{user_id:k.id,field_set_key:"save_behavior"}}:m);var A=null==k?void 0:k.save_behavior,O=(0,o.useSelector)((function(e){return e.session.unauthSavePinId})),C=P&&!!O,T=(0,c._)({id:1000152}),z=A===y||C;return(0,p.jsx)(a.xu,{"data-test-id":"standard-save-button",children:(0,p.jsx)(u.Z,_(_(_({experience:T,pinnedToBoardId:h,pinId:n,to:v,hasQuickSave:z,shouldShowSavedButton:b,hasSaveHandoffExperience:C,clientTrackingParams:t,deviceType:j},x),S),{},{isLegoSaveStyle:!0}))})}},119083:function(e,t,n){"use strict";var o=n(957161),r=n(202139);t.Z=function(){var e=(0,o.qn)("relatedPinsAppUpsell"),t=e&&Date.now()-e>r.F4;return!e||t}},217013:function(e,t,n){"use strict";n.d(t,{R:function(){return i},q:function(){return r}});var o=(0,n(425288).Z)("CloseupPageContext"),r=o.Provider,i=o.useHook},707641:function(e,t,n){"use strict";n.d(t,{Ex:function(){return M},ZP:function(){return Y},l1:function(){return N}});var o=n(76911),r=n(48676),i=n(33128),a=n(777918),s=n(418651),l=n(319915),c=n(947599),u=n(497033),d=n(119083),p=n(941646),f=n(949372),h=n(213036),_=n(50286),b=n(898781),g=n(347556),y=n(313047),m=n(467570),v=n(743873),x=n(217013),w=n(818448),j=n(862624),P=n(802201),k=n(937666),S=n(780280),A=n(147136),O=n(957980),C=n(867820),T=n(908390),z=n(515198);function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(l){s=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var L=(0,o.lazy)((function(){return n.e(61201).then(n.bind(n,361201))})),B=(0,o.lazy)((function(){return n.e(92707).then(n.bind(n,492707))})),R=(0,o.lazy)((function(){return n.e(57234).then(n.bind(n,257234))})),Z="save",D="visit",U=new T.Ry(2),M=new T.Ry(3),F=new T.Ry(1),N=function(e){var t=e.bgColor,n=e.color,o=(0,x.R)().viewParameter,i=(0,r.useSelector)((function(e){return e.session.isAuthenticated}));return(0,z.jsx)(p.Z,{id:"back-button",children:(0,z.jsx)(a.Z,{bgColor:t,color:n||"darkGray",fallbackUrl:i?"/":"/ideas",padding:"auto",viewParameter:o,viewType:3})})},G=function(e){var t=e.children,n=e.experience,r=(0,o.useRef)();return(0,z.jsxs)(o.Fragment,{children:[(0,z.jsx)(T.xu,{ref:r,children:(0,z.jsx)(T.xu,{children:t})}),(0,z.jsx)(l.Z,{name:"SafeSuspense_PinActionBarSaveButton_ExperienceTooltipDelayedPulsar",children:(0,z.jsx)(c.Z,{children:(0,z.jsx)(B,{experience:n,eligibleIds:[503459,503761],anchor:r.current,showTooltip:!0})})})]})},W=function(e){var t=e.onNonDesktopClick,n=e.pin,i=e.pinner,a=(0,b.ZP)(),s=(0,k.TH)(),l=E((0,o.useState)(!1),2),c=l[0],u=l[1],d=(0,o.useRef)(),p=(0,_.ZP)(),f=E((0,o.useState)(null),2),h=f[0],g=f[1],y=!!h;(0,o.useEffect)((function(){var e=function(){g(null),(0,C.My)("dweb.unauth.context_menu.click_away")};return y&&document.addEventListener("click",e),function(){y&&document.removeEventListener("click",e)}}),[y]);var m=(0,r.useSelector)((function(e){return e.session.isAuthenticated}));return(0,z.jsxs)(o.Fragment,{children:[(0,z.jsx)(T.xu,{ref:d,children:(0,z.jsx)(T.hU,{accessibilityLabel:a._('more', 'Pin more button', 'Pin more button'),iconColor:"darkGray",icon:"ellipsis",onClick:function(e){var n=e.event;if((0,C.LW)({action:"click",pageLocation:s,item:"ellipsis-button"}),"desktop"===p){if(m)u(!c);else if(n.stopPropagation(),n.preventDefault(),(0,C.My)("dweb.ellipsis_button.context_menu.open"),d.current){var o=d.current.getBoundingClientRect(),r=o.left,i=o.top;g({xPosition:r,yPosition:i})}}else t(n)},size:"lg"})}),h&&"desktop"===p&&n&&i&&(0,z.jsx)(O.Z,{desktopContextMenuState:h,pin:n,pinner:i,source:"dweb.plp.ellipsis.button"}),c&&(0,z.jsx)(T.mh,{zIndex:new T.Ry(1),children:(0,z.jsx)(T.J2,{anchor:d.current,positionRelativeToAnchor:!1,onDismiss:function(){return u(!1)},idealDirection:"down",size:"xs",children:(0,z.jsx)(T.xu,{paddingX:4,paddingY:2,children:(0,z.jsx)(A.Z,{textSize:"200"})})})})]})},H=function(e){var t,n=e.backButton,o=e.copyButton,i=e.editOrMoreButton,a=e.headerLimitedOverflow,s=e.isRelatedPinsAppUpsellShown,u=e.isTransparentBackground,d=e.saveButton,p=e.shareButtonGroup,f=e.visitButton,h=(0,j.Y)().checkExperiment,_=(0,w.H)(),b=(0,r.useSelector)((function(e){return e.session.isAuthenticated})),g=h("mweb_unauth_plpv2_sticky_conversion_bar").group;return b?"lg"===_&&(t=U):t=g.startsWith("enabled_action_bar")||g.startsWith("enabled_all")?F:M,(0,z.jsxs)(y.FixedHeader,{headerLimitedOverflow:a,isTranslucent:!u,isTransparentBackground:u,ignoreObstructions:u,paddingY:s?0:void 0,zIndex:t,overrideTop:g.startsWith("enabled_header")?-v.n:void 0,children:[s&&(0,z.jsx)(l.Z,{name:"SafeSuspense_PinActionBarSaveButton_AuthInterstitalUpsell",children:(0,z.jsx)(c.Z,{children:(0,z.jsx)(T.xu,{marginBottom:3,marginEnd:-1,marginStart:-1,children:(0,z.jsx)(L,{})})})}),(0,z.jsx)(T.xu,{marginTop:-1,marginBottom:-1,children:(0,z.jsxs)(T.kC,{alignItems:"center",justifyContent:"between",children:[(0,z.jsxs)(T.kC,{alignItems:"center",justifyContent:"start",children:[!!n&&(0,z.jsx)(T.xu,{marginStart:-1,color:u?"default":void 0,rounding:"circle",dangerouslySetInlineStyle:{__style:u?{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"}:{}},children:n}),(0,z.jsxs)(T.kC,{alignItems:"center",justifyContent:"start",children:[p||null,i||null,o||null]})]}),(0,z.jsxs)(T.kC,{alignItems:"center",justifyContent:"start",children:[f||null,d||null]})]})})]},String(u))},V=function(e){var t=e.clickthroughInterstitialExperience,n=e.pinId,o=e.isCTA,r=(0,b.ZP)(),i=(0,k.TH)(),a=(0,h.Z)({clickthroughInterstitialExperience:t,pinId:n});return(0,z.jsx)(p.Z,{id:"main-pin-section-visit-button",children:(0,z.jsx)(T.zx,{fullWidth:!0,size:"lg",onClick:function(){(0,C.LW)({action:"click",pageLocation:i,item:"main-pin-section-visit-button"}),a()},color:o?"blue":void 0,text:r._('Visit', 'pinPage.pinACtionBar.visitButton', 'Text on a button that lets users visit the source of the pin')})})};function Y(e){var t,n=e.clickthroughInterstitialExperience,a=e.experience,s=e.isNewUser,h=e.isMaturedNewUser,y=e.isPartner,v=e.isRemovablePin,w=e.isUnavailableStoryPin,k=e.onEditButtonClick,O=e.onNonDesktopOptionsButtonClick,C=e.onSendButtonClick,E=e.pinId,I=e.pinnedToBoardId,L=e.pinnedToBoardUrl,B=e.nativePinType,U=e.scrolledToRelatedPins,M=e.shouldShowReactions,F=e.shouldShowBackButton,Y=e.shouldShowShareOnVideoCloseup,q=e.isEligibleToVisitPin,J=(0,b.ZP)(),$=(0,j.Y)().checkExperiment,K=(0,_.ZP)(),Q="desktop"===K,ee=(0,r.useSelector)((function(e){return e.session})).isAuthenticated,te=(0,x.R)(),ne=te.clientTrackingParams,oe=te.saveButtonConfig,re=te.viewParameter,ie=(0,P.S6)()(E),ae=null==ie?void 0:ie.pinner,se=$("mweb_unauth_plpv2_sticky_conversion_bar").group,le=(0,f.Z)(),ce=null!=ie&&ie.is_eligible_for_pdp?D:Z,ue=!Q&&s&&!h&&$(g.Dy).anyEnabled;t=(0,S.B)().locale,(0,o.useEffect)((function(){(0,m.we)(t)}),[t]);var de=!!a&&8===a.type,pe="desktop"!==K&&te.isStoryPin&&$(ee?"mweb_idea_pin_stream":"mweb_unauth_idea_pin_stream").anyEnabled;if(te.isStoryPin){var fe=!U,he=fe?"white":void 0,_e=fe?"transparentDarkGray":void 0;return w&&(he="darkGray",_e="white"),pe?null:(0,z.jsx)(T.xu,{paddingX:2,children:(0,z.jsx)(H,{backButton:F?(0,z.jsx)(N,{color:he,bgColor:_e}):null,headerLimitedOverflow:de,isTransparentBackground:fe})})}if(U&&(ee||!se.startsWith("enabled_all"))){var be=le&&s&&!y&&(0,d.Z)();return(0,z.jsx)(H,{backButton:F?(0,z.jsx)(N,{bgColor:"white"}):null,headerLimitedOverflow:de,isRelatedPinsAppUpsellShown:be,isTransparentBackground:!0})}return(0,z.jsx)(H,{backButton:F?(0,z.jsx)(N,{}):null,editOrMoreButton:k?(0,z.jsx)(T.xu,{"data-test-id":"editBoardButton",children:(0,z.jsx)(T.hU,{accessibilityLabel:J._('edit', 'Pin edit button', 'Pin edit button'),iconColor:"darkGray",icon:"edit",onClick:function(e){var t=e.event;return k(t)},size:"lg"})}):(0,A.E)(te)&&!!ie&&(0,z.jsx)(p.Z,{id:"ellipsis-button",children:(0,z.jsx)(W,{onNonDesktopClick:O,pin:ie,pinner:ae})}),headerLimitedOverflow:de,saveButton:ee&&(v||null!=ae&&ae.blocked_by_me)?null:(0,z.jsx)(G,{experience:a,children:(0,z.jsx)(u.Z,{clientTrackingParams:ne,deeplinkUri:oe.shouldShowSavedButton&&L||oe.repinPageLocation.deeplinkUri,onTouch:oe.onSaveButtonClick,onUnsave:oe.onUnsaveButtonClick,pinId:E,pinnedToBoardId:I,shouldShowSavedButton:oe.shouldShowSavedButton,to:oe.repinPageLocation.mwebUri,viewType:3,viewParameter:re,color:ce===Z||ue?"primary":"secondary"})}),shareButtonGroup:M&&B?(0,z.jsxs)(T.kC,{alignItems:"center",justifyContent:"start",children:[(0,z.jsx)(l.Z,{name:"SafeSuspense_PinActionBarSaveButton_ReactionPickerContainer",children:(0,z.jsx)(c.Z,{children:(0,z.jsx)(R,{pinId:E,nativePinType:B,experience:a})})}),Y&&(0,z.jsx)(i.Z,{onDefaultSendButtonClick:C,pinId:E,viewParameter:te.viewParameter})]}):(0,z.jsx)(p.Z,{id:"share-button",children:!ee&&Q?(0,z.jsx)(X,{pinId:E,viewParameter:te.viewParameter}):(0,z.jsx)(T.kC,{alignItems:"center",justifyContent:"start",children:(0,z.jsx)(i.Z,{onDefaultSendButtonClick:C,pinId:E,viewParameter:te.viewParameter})})}),visitButton:!Y&&q?(0,z.jsx)(T.xu,{paddingX:2,"data-test-id":"visit-button-mobile",children:(0,z.jsx)(V,{clickthroughInterstitialExperience:n,pinId:E,isCTA:ce===D})}):null})}function X(e){var t=e.pinId,n=e.viewParameter,r=(0,b.ZP)(),a=E((0,o.useState)(!1),2),l=a[0],c=a[1],u=(0,o.useRef)(null);return(0,z.jsxs)(T.xu,{ref:u,children:[(0,z.jsx)(T.kC,{alignItems:"center",justifyContent:"start",children:(0,z.jsx)(i.Z,{onDefaultSendButtonClick:function(){c(!0)},pinId:t,viewParameter:n})}),l&&(0,z.jsx)(s.Z,{anchor:u.current,objectId:t,objectType:1,onDismiss:function(){return c(!1)},title:r._('Send this pin', 'PinCloseup.ShareMenu.Title', 'title for share menu popover')})]})}},147136:function(e,t,n){"use strict";n.d(t,{E:function(){return y}});var o=n(474635),r=n(155247),i=n(30700),a=n(213036),s=n(898781),l=n(667679),c=n(229324),u=n(349700),d=n(266725),p=n(802201),f=n(50286),h=n(217013),_=n(908390),b=n(515198),g=function(e){var t=e.canUpsellNativeApp,n=e.downloadImageUrl,o=e.pinId,r=e.shouldShowReactions,i=e.isAuthenticated,a=e.shouldShowVisitInMoreOptions;return o?{downloadImageUrl:n,openInApp:t,reportPin:i,sendPin:r,visitPin:a}:Object.freeze({})},y=function(e){var t=g(e);return!!(t.openInApp||t.sendPin||t.downloadImageUrl||t.reportPin||t.visitPin)},m=function(e){var t=e.imageUrl,n=e.pin,o=e.textSize,a=(0,s.ZP)(),c=(0,h.R)(),u=c.isChromeOnIOS,d=c.viewParameter,p=c.handleDownloadPinImageClick,g=c.isAuthenticated,y=(0,l.Z)(),m=(0,f.HG)(),v=n.closeup_unified_description&&n.closeup_unified_description.trim(),x=n.grid_title||n.title;return(0,b.jsx)(r.Z,{imgSrc:t,isChromeOnIOS:u,filename:x||v,pinId:n.id,viewParameter:d,viewType:3,imageSignature:n.image_signature,children:function(e){return(0,b.jsx)(i.Z,{pressState:"none",onTouch:function(){e().then((function(){m&&!g&&y({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap.closeup.download_button",desktopOptions:{modalType:"signup",modalOptions:{source:"downloadImageBtnDweb",container:"download"}}}),p()}))},children:(0,b.jsx)(_.xv,{weight:"bold",size:o,children:a._('Download image', 'Button to download Pin image', 'Button to download Pin image')})})}})};t.Z=function(e){var t=e.textSize,n=e.onDismiss,r=e.isIdeaPin,l=e.shouldShowShareOnVideoCloseup,f=e.clickthroughInterstitialExperience,y=(0,s.ZP)(),v=(0,h.R)(),x=v.pinId,w=v.onSendButtonClick,j=v.isAuthenticated,P=(0,a.Z)({clickthroughInterstitialExperience:f,pinId:x}),k=(0,p.S6)()(x);if(!k)return null;var S=g(v);return(0,b.jsxs)(_.kC,{direction:"column",gap:4,children:[S.openInApp&&(0,b.jsx)(o.Z,{componentType:13,within:j?"auth-pin-page-action-bar":"unauth-pin-page-action-bar",children:function(e){var n=e.handleOpenApp;return(0,b.jsx)(i.Z,{pressState:"none",onTouch:function(){return n({deepLinkUri:"pin/".concat(k.id)})},children:(0,b.jsx)(_.xv,{weight:"bold",size:t,children:y._('Open in app', 'Option in overflow menu on Pin closeup to open the Pin in the Pinterest app', 'Option in overflow menu on Pin closeup to open the Pin in the Pinterest app')})})}}),!l&&!r&&S.sendPin&&(0,b.jsx)(i.Z,{pressState:"none",onTouch:w,children:(0,b.jsx)(_.xv,{weight:"bold",size:t,children:y._('Send Pin', 'Option in overflow menu on Pin closeup to send this pin', 'Option in overflow menu on Pin closeup to send this pin')})}),!r&&S.visitPin&&(0,b.jsx)(i.Z,{pressState:"none",onTouch:P,children:(0,b.jsx)(_.xv,{weight:"bold",size:t,children:(0,u.Wc)(y._('Visit {{domain}}', 'videoPinCloseup.overflowMenu.visit', 'Option in overflow menu on Pin closeup to visit the source of pin, domain: the domain name of the url that takes user to source of pin'),{domain:k.domain||""})})}),!r&&S.downloadImageUrl&&(0,b.jsx)(m,{imageUrl:S.downloadImageUrl,pin:k,textSize:t}),S.reportPin&&(0,b.jsx)(c.Z,{callbackFunction:n,nextLocation:"/pin/".concat(k.id,"/report/"),children:(0,b.jsx)(_.xv,{weight:"bold",size:t,children:(0,b.jsx)(_.rU,{href:"/pin/".concat(k.id,"/report/"),tapStyle:"none",onClick:function(){(0,d.So)({view_type:48,element:176,component:13,object_id_str:k.id})},children:y._('Report Pin', 'Takes you to a separate page where you can give reasons why you are reporting this Pin (e.g spam, pornography)', 'Takes you to a separate page where you can give reasons why you are reporting this Pin (e.g spam, pornography)')})})})]})}},256548:function(e,t,n){"use strict";var o=n(48676),r=n(898781),i=n(908390),a=n(515198);t.Z=function(e){var t=e.onSendButtonClick,n=e.trackShareTap,s=e.color,l=(0,r.ZP)(),c="android"===(0,o.useSelector)((function(e){return e.session.userAgentPlatform}));return(0,a.jsx)(i.hU,{accessibilityLabel:l._('Send', 'Board.Pin.SendButton', 'Accessible label for button to send a pin or a board'),onClick:function(e){var o=e.event;t(o),n()},size:"lg",iconColor:s||"darkGray",icon:c?"android-share":"share"})}},389920:function(e,t,n){"use strict";n.d(t,{P:function(){return r},s:function(){return i}});var o=n(50286),r=function(e){return e&&e.promoter&&!e.is_downstream_promotion?e.promoter:null},i=function(){return"phone"!==(0,o.ZP)()?180:130}},213036:function(e,t,n){"use strict";n.d(t,{Z:function(){return O},V:function(){return S}});var o=n(48676),r=n(458843),i=n(558150),a=n(248975),s=n(609943),l=n(954571),c=n(102500),u=n(623568),d=n(867820);function p(e,t,n,o,r,i,a){try{var s=e[i](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(o,r)}var f=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var o,r,i,a,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={check_only:!0,client_tracking_params:n,pin_id:t?t.id:null,url:null!==(o=(0,u.Zt)({link:t.link,mobileLink:t.mobile_link,origImageUrl:null===(r=t.images)||void 0===r||null===(i=r.orig)||void 0===i?void 0:i.url,trackedLink:t.tracked_link}))&&void 0!==o?o:""},e.next=3,(0,c.Z)(a).callGet();case 3:if(!(s=e.sent)||!s.resource_response||s.resource_response.error){e.next=9;break}return l=s.resource_response.data.redirect_status,e.abrupt("return",l);case 9:return e.abrupt("return","error");case 10:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function a(e){p(i,o,r,a,s,"next",e)}function s(e){p(i,o,r,a,s,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),h=function(e,t){f(e,t).then((function(e){return(0,d.My)("mweb.unauth.clickthrough_quality.".concat(e))}))},_=n(826067),b=n(755506),g=n(350576),y=n(217013),m=n(389920),v=n(802201),x=n(630135),w=n(332611),j=n(48714),P=n(266725),k=n(937666),S=function(e,t){var n,o,r,a=(0,s.Z)((t.state||{}).trackingParams,e.tracking_params);return{object_id_str:e.id,component:4,element:35,view_type:3,view_parameter:(0,g.RX)(e)?3172:(0,b.CK)({hasRichMetadata:Boolean(e.rich_metadata),hasRichMetadataProducts:Boolean(null===(n=e.rich_metadata)||void 0===n?void 0:n.products),hasRichMetadataArticle:Boolean(null===(o=e.rich_metadata)||void 0===o?void 0:o.article),hasRichMetadataRecipe:Boolean(null===(r=e.rich_metadata)||void 0===r?void 0:r.recipe)}),clientTrackingParams:a,aux_data:{commerce_data:(0,i.Z)(e),image_signature:e.image_signature}}},A=function(){return navigator.onLine},O=function(e){var t=e.clickthroughInterstitialExperience,n=e.linklessOptions,i=e.pinId,s=(0,k.k6)(),c=(0,k.TH)(),p=(0,o.useDispatch)(),f=(0,x.S)(),b=(0,o.useSelector)((function(e){var t=e.users,n=e.session;return(0,l.Z)(t[n.userId].created_at)})),g=(0,v.S6)()(i),O=(0,m.P)(null!=g?g:void 0),C=(0,y.R)(),T=C.isAuthenticated,z=C.viewParameter;return function(){var e,o,i;if(g){var l=S(g,c);(0,d.My)("mweb_pin_page.pin_image.clickthrough_occurred"),(0,d.LW)({action:"click",pageLocation:c,item:"clickthrough"}),T||h(g,l.clientTrackingParams);12===(0,P.jC)(l)&&(0,P.j)({event_type:8948,view_type:3,view_parameter:z,object_id_str:g.id,clientTrackingParams:l.clientTrackingParams,aux_data:{image_signature:g.image_signature,closeup_navigation_type:(0,r.Z)(s),click_type:"clickthrough",cosmic_ray_count:"1"}});var y=null!==(e=(0,u.Zt)({link:g.link,mobileLink:g.mobile_link,origImageUrl:null===(o=g.images)||void 0===o||null===(i=o.orig)||void 0===i?void 0:i.url,trackedLink:g.tracked_link}))&&void 0!==e?e:"",m={pin:g.id,client_tracking_params:l.clientTrackingParams};if(n){if(!n.actionBarIsMinifiedToMainPinImage){var v=new XMLHttpRequest;v.open("GET",(0,j.nS)({url:y,queryParams:m})),v.send()}n.onTap()}else{var x=!O&&(b||f);if(x&&p((0,w.kd)(1000162)),x&&t){var k,C;p((0,w.UT)(t.placement_id,t.experience_id)),p((0,w.CK)(t.placement_id,t.experience_id));var E=g.category,I=g.domain,L=((g.link_domain||{}).official_user||{}).image_medium_url,B=void 0===L?"":L,R=(0,j.nS)({url:y,queryParams:m}),Z=(0,a.Z)({images:g.images,embedSrc:null===(k=g.embed)||void 0===k?void 0:k.src,embedType:null===(C=g.embed)||void 0===C?void 0:C.type}),D=c.pathname+c.search;if(!A())return;var U={domain:I,domainImageUrl:null!=B?B:"",origin:D,pinCategory:E,pinImageUrl:Z,redirectUrl:R};window.open((0,_.ru)("/pin_redirect",U),"_blank")}else{if(!A())return;(0,j.Gj)({url:y,queryParams:m})}}}}}},638543:function(e,t,n){"use strict";n.d(t,{Z:function(){return R}});var o=n(76911),r=n(48676),i=n(711781),a=n(472644),s=n(721809),l=n(898781),c=n(937666),u=n(908390),d=n(515198);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(l){s=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function h(){var e,t=(0,l.ZP)(),n=p((0,o.useState)(),2),r=n[0],i=n[1];return(null===(e=(0,c.k6)().location.state)||void 0===e?void 0:e.isAppFactoryOAuth)?null:(0,d.jsxs)(u.xu,{position:"relative",children:[(0,d.jsx)(u.iP,{onTap:function(){return i(!0)},children:(0,d.jsxs)(u.xu,{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",height:40,rounding:"pill",color:"secondary",children:[(0,d.jsx)(u.xu,{height:24,width:24,marginTop:1,children:(0,d.jsx)(a.Z,{size:20})}),(0,d.jsx)(u.xu,{marginStart:2,children:(0,d.jsx)(u.xv,{weight:"bold",children:t._('Connect with Google', 'googleConnectButtonWithDisabledSDK.buttonText', 'Connect with Google button text')})})]})}),r&&(0,d.jsx)(s.Z,{type:"google",onDismiss:function(){return i(!1)}})]})}var _=n(304930),b=n(862624),g=n(524172),y=n(83969),m=n(867820);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n,o,r,i,a){try{var s=e[i](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(o,r)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function a(e){j(i,o,r,a,s,"next",e)}function s(e){j(i,o,r,a,s,"throw",e)}a(void 0)}))}}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=z(e);if(t){var r=z(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return C(this,n)}}function C(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(l,e);var t,n,r,a,s=O(l);function l(){var e;k(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(T(e=s.call.apply(s,[this].concat(n))),"gsiButtonRef",(0,o.createRef)()),e}return t=l,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isAuthenticated,n=e.isGoogleOneTapDisabled,o=e.isGoogleOneTapInitialized;n||t||!o?(this.initializeAndRenderGSIButton(),t||o||(0,m.My)("mweb.gsi_button_fix.load_and_initialize_gsi_script")):(0,y.ru)({buttonRef:this.gsiButtonRef,isDesktop:!1})}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.isGoogleOneTapDisabled;e.isGoogleOneTapInitialized?(0,y.ru)({buttonRef:this.gsiButtonRef,isDesktop:!1}):t&&this.initializeAndRenderGSIButton()}},{key:"initializeAndRenderGSIButton",value:(a=P(regeneratorRuntime.mark((function e(){var t,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.enabledITPBroswerFlow,o=t.onGoogleConnectSuccess,e.next=3,(0,y.Px)({unsafe:!0});case 3:(0,y.OY)({itpSupport:n},(function(e){var t=e.credential;(0,m.My)("unauth_mweb.gsi_button.select_by.".concat(e.select_by)),(0,m.NC)("press_google_connect_button");var n=(0,i.Z)(t);o({google_open_id_token:t,autologin:!1},{google_open_id_token:t,first_name:n.given_name,last_name:n.family_name,image_url:n.picture})})),(0,y.ru)({buttonRef:this.gsiButtonRef,isDesktop:!1});case 5:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.isGoogleOneTapDisabled;return!t.isGoogleOneTapInitialized&&!!e.isGoogleOneTapInitialized||!n&&!!e.isGoogleOneTapDisabled}},{key:"render",value:function(){return(0,d.jsx)(u.xu,{position:"relative",children:(0,d.jsx)(u.iP,{onTap:function(){return(0,m.My)("gsi_personalized_button.tap")},children:(0,d.jsx)(u.xu,{height:44,children:(0,d.jsx)(u.xu,{ref:this.gsiButtonRef,position:"absolute",width:"100%"})})})})}}])&&S(t.prototype,n),r&&S(t,r),l}(o.Component);function L(e){var t=(0,r.useSelector)((function(e){var t=e.googleOneTap,n=e.session;return{isGoogleOneTapInitialized:t.googleOneTapInitialized,isGoogleOneTapDisabled:t.googleOneTapDisabled,browserType:n.browserType,platform:n.userAgentPlatform}})),n=t.isGoogleOneTapInitialized,o=t.isGoogleOneTapDisabled,i=t.browserType,a=t.platform;return(0,d.jsx)(I,w(w({},e),{},{enabledITPBroswerFlow:"ios"===a&&(2===i||1===i),isGoogleOneTapInitialized:n,isGoogleOneTapDisabled:o}))}function B(e){var t=e.onGoogleConnectSuccess,n=(0,o.useRef)(null),r=(0,g.M)(),a=(0,o.useRef)(t);return(0,o.useEffect)((function(){a.current=t}),[t]),(0,o.useEffect)((function(){var e=function(e){var t=e.credential,n=e.select_by;(0,m.My)("unauth_mweb.gsi_button.select_by.".concat(n)),(0,m.NC)("press_google_connect_button");var o=(0,i.Z)(t);a.current({google_open_id_token:t,autologin:!1},{google_open_id_token:t,first_name:o.given_name,last_name:o.family_name,image_url:o.picture})};return P(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null==r?void 0:r.ensureInit("button",e);case 2:(0,y.ru)({buttonRef:n,isDesktop:!1});case 3:case"end":return t.stop()}}),t)})))(),function(){null==r||r.removeCallback(e)}}),[r]),(0,d.jsx)(u.xu,{position:"relative",children:(0,d.jsx)(u.iP,{onTap:function(){return(0,m.My)("gsi_personalized_button.tap")},children:(0,d.jsx)(u.xu,{height:44,children:(0,d.jsx)(u.xu,{ref:n,position:"absolute",width:"100%"})})})})}function R(e){var t,n=(0,(0,b.Y)().checkExperiment)("mweb_google_disabled").anyEnabled,o=(0,_.Z)();return(null===(t=(0,c.k6)().location.state)||void 0===t?void 0:t.isAppFactoryOAuth)?null:n?(0,d.jsx)(h,{}):o?(0,d.jsx)(B,{onGoogleConnectSuccess:e.onGoogleConnectSuccess}):(0,d.jsx)(L,w({},e))}},347556:function(e,t,n){"use strict";n.d(t,{Dy:function(){return f},Hn:function(){return r},Jw:function(){return c},PS:function(){return p},QO:function(){return h},UT:function(){return i},Ws:function(){return a},cK:function(){return u},cy:function(){return l},o4:function(){return s},tr:function(){return o},vA:function(){return d}});var o=3,r="has_done_closeup",i=[503459,503761],a="Gender",s="InterestPicker",l="LoadingStep",c="AppInstall",u={NUX_GENDER_STEP_NAME:a,NUX_INTEREST_PICKER_STEP_NAME:s,NUX_LOADING_STEP_NAME:l,NUX_APP_INSTALL_STEP_NAME:c},d="mweb_content_first_activation_skippable_tp",p="mweb_cfa_full_modal_opt_in_tp",f="mweb_closeup_save_btn_color",h="mweb_nux_gender_step_ui_experiment"},738759:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z},R:function(){return B}});var o=n(76911),r=n(48676),i=n(157796),a=n(391254),s=n(908390),l=n(100183);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var u,d={yellow:"#FAB904",orange:"#FF6400",green:"#0FA573",blue:"#0074e8",successBase:"#B469EB"},p="DelightfulBubbles__",f=["".concat(p,"fadeIn {\n  to {\n    opacity: 1;\n  }\n}\n"),"".concat(p,"growShrink {\n  0% {\n    transform: scale(0);\n  }\n  50% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(0);\n  }\n}\n"),"".concat(p,"swirl {\n  0% {\n    transform: rotate(0deg) translateX(-50%);\n  }\n  100% {\n    transform: rotate(-360deg) translateX(-50%);\n  }\n}\n")].concat(function(e){if(Array.isArray(e))return c(e)}(u=Object.keys(d).map((function(e){var t,n,o,r,i=(t=Object.keys(d),n=e,o=t.length,r=t.indexOf(n)+1>=o?0:t.indexOf(n)+1,t[r]);return"".concat(p,"colorChange_").concat(e," {\n      0% {\n        background-color: ").concat(d[e],";\n      }\n      50% {\n        background-color: ").concat(d[i],";\n      }\n    }\n    ")})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(u)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=(0,l.Ll)(f),_=n(515198);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=j(e);if(t){var r=j(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){var t=e.delay,n=e.diameter,o=e.height,r=e.initialColor,i=e.width,a=e.xOffset,l=e.yOffset,c=function(e,t,n,o,r,i,a,s){return{bubblePositionStyles:{position:"absolute",marginLeft:"".concat(i/2-r,"px"),marginTop:"".concat(n/2-r,"px"),left:"".concat(a,"px"),top:"".concat(s,"px")},bubbleSwirlStyles:{animation:"".concat(p,"swirl 6s ease-in-out ").concat(e,"s infinite forwards"),WebkitAnimation:"".concat(p,"swirl 6s ease-in-out ").concat(e,"s infinite forwards")},bubbleGrowShrinkStyles:{transform:"scale(0)",WebkitTransform:"scale(0)",animation:"".concat(p,"growShrink 6s ease-in-out ").concat(e,"s infinite alternate"),WebkitAnimation:"".concat(p,"growShrink 6s ease-in-out ").concat(e,"s infinite alternate")},bubbleShapeStyles:{height:"".concat(t,"px"),width:"".concat(t,"px"),borderRadius:"50%",backgroundColor:d[o],opacity:0,animation:"".concat(p,"colorChange_").concat(o," 12s steps(1, start) ").concat(e,"s infinite forwards,\n      ").concat(p,"fadeIn 3s linear ").concat(e,"s 1 forwards"),WebkitAnimation:"".concat(p,"colorChange_").concat(o," 12s steps(1, start) ").concat(e,"s infinite forwards,\n      ").concat(p,"fadeIn 3s linear ").concat(e,"s 1 forwards")}}}(t,n,o,r,Math.floor(n/2),i,a,l);return(0,_.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:c.bubblePositionStyles},children:(0,_.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:c.bubbleSwirlStyles},children:(0,_.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:c.bubbleGrowShrinkStyles},children:(0,_.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:c.bubbleShapeStyles}})})})})},S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(i,e);var t,n,o,r=v(i);function i(){var e;g(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return P(w(e=r.call.apply(r,[this].concat(n))),"state",{isInitialized:!1}),e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;window.requestAnimationFrame((function(){e.setState({isInitialized:!0})}))}},{key:"shouldComponentUpdate",value:function(e,t){return!e.numBubbles===this.props.numBubbles||!t.isInitialized===this.state.isInitialized}},{key:"getSize",value:function(){var e=this.props,t=e.width,n=e.height;return void 0!==t&&void 0!==n?{width:t,height:n}:this.containerElement?{height:this.containerElement.offsetHeight,width:this.containerElement.offsetWidth}:{height:void 0,width:void 0}}},{key:"createBubbles",value:function(e,t){for(var n=this.props,o=n.bubbleSize,r=n.delayFactor,i=n.delayOffset,a=n.numBubbles,s=n.xRadiusAdjustment,c=e+2*n.yRadiusAdjustment,u=t+2*s,p=[],f=Object.keys(d),h=0;h<a;h+=1){var b=o+(0,l.XF)(-4,4),g=f[h%f.length],y=(0,l.CC)(c,u),m=y.x,v=y.y;p.push((0,_.jsx)(k,{delay:h*r+i,diameter:b,initialColor:g,xOffset:m,yOffset:v,height:e,width:t},h))}return p}},{key:"render",value:function(){var e=this,t=this.getSize(),n=t.height,o=t.width;return(0,_.jsxs)(s.xu,{height:n,width:o,position:"relative",children:[(0,_.jsx)(a.Z,{unsafeCSS:h}),(0,_.jsxs)(s.xu,{position:"absolute",ref:function(t){return e.containerElement=t},children:[this.state.isInitialized&&this.createBubbles(n||0,o||0),(0,_.jsx)(s.xu,{position:"relative",children:this.props.children})]})]})}}])&&y(t.prototype,n),o&&y(t,o),i}(o.Component);P(S,"defaultProps",{bubbleSize:16,numBubbles:10,xRadiusAdjustment:0,yRadiusAdjustment:0,delayFactor:1,delayOffset:0});var A=S,O=n(7111),C=n(705834),T=n(898781),z=n(70523),E=n(693099);function I(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var B=function(e){return new Set([].concat(I(E.EU),I(E.rT),I(E.IO))).has(e)},R={default:3e3,email:3e3,facebook:5e3,google:4e3,gtap:4500};function Z(e){var t=e.isReducedHeader,n=e.platform,a=(0,T.ZP)(),l=(0,r.useDispatch)(),c=(0,r.useSelector)((function(e){return e.session.country}));(0,o.useEffect)((function(){"gtap"!==n&&l((0,z.e6)())}),[]);var u=B(c);return(0,_.jsx)(o.Fragment,{children:u?(0,_.jsx)(C.Z,{viewType:10,viewParameter:259,children:(0,_.jsxs)(s.xu,{position:"fixed",top:!0,left:!0,right:!0,bottom:!0,width:"100%",color:"default",children:[(0,_.jsx)(i.Z,{color:"dark",duration:R[n],finalProgress:95}),(0,_.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",height:"100%",children:[(0,_.jsxs)(s.xu,{margin:10,children:[(0,_.jsx)(s.X6,{overflow:"normal",size:t?"500":"600",children:a._('Your account is being created!', 'account created heading', 'account created heading')}),(0,_.jsx)(s.xv,{overflow:"normal",children:a._('You can now save ideas, get personalized recommendations, and more', 'loading state description while waiting for any sign up registration to complete', 'loading state description while waiting for any sign up registration to complete')})]}),(0,_.jsx)(s.kC,{alignItems:"center",flex:"grow",justifyContent:"center",children:(0,_.jsx)(A,{delayOffset:-5,xRadiusAdjustment:40,yRadiusAdjustment:40,children:(0,_.jsx)(s.xu,{alignItems:"center",color:"lightWash",direction:"column",display:"flex",height:120,justifyContent:"end",overflow:"hidden",rounding:"circle",width:120,children:(0,_.jsx)(s.JO,{accessibilityLabel:a._('Loading', 'Loading state for any sign up registration', 'Loading state for any sign up registration'),color:"subtle",icon:"person",size:"90"})})})})]})]})}):(0,_.jsx)(O.Z,{})})}},777918:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var o=n(48676),r=n(941646),i=n(898781),a=n(969230),s=n(867820),l=n(266725),c=n(908390),u=n(937666),d=n(515198);function p(e){var t=e.alignIconLeft,n=e.bgColor,p=e.color,f=e.disableRedirect,h=void 0!==f&&f,_=e.fallbackUrl,b=e.icon,g=void 0===b?"arrow-back":b,y=e.onTouch,m=e.padding,v=e.placement,x=e.shouldUseFallbackUrl,w=e.size,j=void 0===w?"lg":w,P=e.viewParameter,k=e.viewType,S=(0,i.ZP)(),A=(0,u.k6)(),O=(0,u.TH)(),C=(0,o.useSelector)((function(e){return e.session.isAuthenticated})),T=function(){(0,a.y3)({action:"back_button_click",placement:v,isAuthenticated:C}),(0,s.LW)({action:"click",pageLocation:O,item:"back-button"}),k&&P&&(0,l.So)({view_type:k,view_parameter:P,element:34}),y&&y(),h||((!O.key||O.state&&"redirect"===O.state.referrer||x)&&_?A.push(_):O.pathname.includes("/password/reset/")&&O.search&&O.search.includes("?nativeShouldDismiss=true")?A.push("/login/?dismissWebview=true"):A.goBack())};return(0,d.jsx)(r.Z,{id:"back-button",children:t?(0,d.jsx)(c.xu,{display:"flex",width:48,height:48,alignItems:"center",marginStart:"cancel"===g?-1:-2,children:(0,d.jsx)(c.hU,{accessibilityLabel:S._('Back', 'navigation button', 'navigation button'),bgColor:n,iconColor:p,icon:g,onClick:T,padding:"auto"!==m?m:2,size:j})}):(0,d.jsx)(c.hU,{accessibilityLabel:S._('Back', 'navigation button', 'navigation button'),bgColor:n,iconColor:p,icon:g,onClick:T,padding:"auto"!==m?m:2,size:j})})}},721809:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var o=n(121151),r=n(898781),i=n(908390),a=n(515198);function s(e){var t=e.type,n=e.onDismiss,s=(0,r.ZP)(),l="facebook"===t?s._('Oops! Facebook isn\'t available', 'socialAuthDisabled.facebook.title', 'Title for the modal shown when Facebook services are not working'):s._('Oops! Google isn\'t available', 'socialAuthDisabled.google.title', 'Title for the modal shown when Google services are not working'),c="facebook"===t?s._('Looks like Facebook isn\'t available right now.\n\nGive another option a try or refresh the page and try again later.', 'socialAuthDisabled.facebook.description', 'Description for the modal shown when Facebook services are not working'):s._('Looks like Google isn\'t available right now.\n\nGive another option a try or refresh the page and try again later.', 'socialAuthDisabled.google.description', 'Description for the modal shown when Google services are not working');return(0,a.jsx)(o.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,isOpen:!0,onDismiss:n,type:"social_auth_disabled_modal",children:(0,a.jsxs)(i.xu,{padding:5,children:[(0,a.jsx)(i.xu,{marginBottom:3,children:(0,a.jsx)(i.X6,{size:"500",accessibilityLevel:1,children:l})}),(0,a.jsx)(i.xu,{marginBottom:3,children:(0,a.jsx)(i.xv,{children:c})}),(0,a.jsx)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:(0,a.jsx)(i.xu,{paddingY:1,children:(0,a.jsx)(i.zx,{accessibilityLabel:s._('OK', 'socialAuthDisabled.okButton', 'Button that closes modal shown when Facebook or Google services are not working'),size:"lg",color:"red",text:s._('OK', 'socialAuthDisabled.okButton', 'Button that closes modal shown when Facebook or Google services are not working'),onClick:n})})})]})})}},276881:function(e,t,n){"use strict";n.d(t,{Z:function(){return fe}});var o=n(76911),r=n(48676),i=n(721809),a=n(867820),s=n(862624),l=n(937666),c=n(898781),u=n(467570),d=n(908390),p=n(515198);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=w(e);if(t){var r=w(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P={defaultButton:{display:"flex",alignItems:"center",backgroundColor:"#1877F2",border:"none",height:"40px",transition:"opacity .2s linear",width:"100%",minWidth:"240px",borderRadius:"20px",padding:"0px 0px 0px 8px"},roundedButton:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#FFF",border:"none",height:"48px",transition:"opacity .2s linear",width:"48px",marginBottom:"8px",borderRadius:"50%"},buttonText:{fontFamily:"Helvetica, Arial, sans-serif",fontWeight:"bold",color:"#fff",fontSize:"16px",paddingRight:"8px",letterSpacing:"0.25px"}},k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(s,e);var t,n,o,r=m(s);function s(){var e;b(this,s);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return j(x(e=r.call.apply(r,[this].concat(n))),"state",{fbReady:!1,showSocialAuthDisabledModal:!1}),j(x(e),"connectCallback",(function(t){var n=t.creds,o=t.data;e.props.onFacebookConnectSuccess(n,o)})),j(x(e),"handleConnectClick",(function(){(0,a.My)("unauth_mweb.facebook_connect.button_click");var t=e.props,n=t.onTouch,o=t.mwebFacebookDisabled;n&&n(),o?e.setState({showSocialAuthDisabledModal:!0}):e.state.fbReady&&(0,u.JF)().then(e.connectCallback,e.props.onFacebookConnectError)})),j(x(e),"renderRoundButton",(function(){return(0,p.jsxs)(d.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,p.jsx)("button",{onClick:e.handleConnectClick,style:P.roundedButton,type:"button",children:(0,p.jsx)(d.JO,{accessibilityLabel:e.props.i18n._('facebook', 'accessible label for facebook icon', 'accessible label for facebook icon'),color:"shopping",icon:"facebook",inline:!0,size:20})}),(0,p.jsx)(d.xv,{color:"inverse",size:"200",children:e.props.i18n._('Facebook', 'Facebook company name', 'Facebook company name')})]})})),e}return t=s,(n=[{key:"componentDidMount",value:function(){var e=this;this.props.mwebFacebookDisabled||((0,u.we)(this.props.locale).then((function(){e.setState({fbReady:!0})})),window.addEventListener("message",this.handleMessageEvent,!1))}},{key:"handleMessageEvent",value:function(e){(0,u.s0)(e,(function(e){return(0,a.My)("unauth_mweb.".concat(e))}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleMessageEvent)}},{key:"renderPersonalizedButton",value:function(){var e=this,t=this.props,n=t.checkExperiment,o=t.isRerequest,r="".concat(this.props.type||"continue","_with"),a="rounded",s=this.props.fbUseContinueAs?"true":"false";return(0,p.jsxs)(d.xu,{bottom:!0,left:!0,right:!0,top:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},position:"absolute",rounding:5,children:[o?(0,p.jsx)("div",{className:"fb-login-button","data-width":"100%","data-max-rows":"1","data-size":"large","data-button-type":r,"data-layout":a,"data-show-faces":"false","data-auth-type":"rerequest","data-scope":u.$.join(","),"data-auto-logout-link":"false","data-use-continue-as":n("pcons_mweb_fb_shadow_test").group.startsWith("enabled_no_continue")?"false":s,"shadow-test":n("pcons_mweb_fb_shadow_test").anyEnabled?"true":"false"}):(0,p.jsx)("div",{className:"fb-login-button","data-width":"100%","data-max-rows":"1","data-size":"large","data-button-type":r,"data-layout":a,"data-show-faces":"false","data-scope":u.$.join(","),"data-auto-logout-link":"false","data-use-continue-as":n("pcons_mweb_fb_shadow_test").group.startsWith("enabled_no_continue")?"false":s,"shadow-test":n("pcons_mweb_fb_shadow_test").anyEnabled?"true":"false"}),this.state.showSocialAuthDisabledModal&&(0,p.jsx)(i.Z,{type:"facebook",onDismiss:function(){return e.setState({showSocialAuthDisabledModal:!1})}})]})}},{key:"render",value:function(){var e=this;return this.props.isRounded?this.renderRoundButton():(0,p.jsxs)(d.xu,{position:"relative","data-test-id":"FacebookConnectContainer",children:[this.renderPersonalizedButton(),(0,p.jsxs)("button",{onClick:this.handleConnectClick,style:P.defaultButton,type:"button","data-test-id":"FacebookConnectButton",children:[(0,p.jsx)(d.xu,{color:"default",rounding:3,dangerouslySetInlineStyle:{__style:{paddingTop:"5px",paddingLeft:"3px",paddingRight:"2px",marginLeft:"4px",marginRight:"4.4px"}},children:(0,p.jsx)(d.JO,{accessibilityLabel:this.props.i18n._('facebook', 'accessible label for facebook icon', 'accessible label for facebook icon'),color:"shopping",icon:"facebook",inline:!0,size:19})}),(0,p.jsx)(d.xu,{alignItems:"center",display:"flex",justifyContent:"center",flex:"grow",marginEnd:1,children:(0,p.jsx)("span",{style:P.buttonText,children:this.props.buttonText})})]}),this.state.showSocialAuthDisabledModal&&(0,p.jsx)(i.Z,{type:"facebook",onDismiss:function(){return e.setState({showSocialAuthDisabledModal:!1})}})]})}}])&&g(t.prototype,n),o&&g(t,o),s}(o.Component);function S(e){var t,n=(0,c.ZP)(),o=(0,s.Y)().checkExperiment,i=(0,r.useSelector)((function(e){return e.session})).locale,a=o("mweb_facebook_disabled").anyEnabled;return(null===(t=(0,l.k6)().location.state)||void 0===t?void 0:t.isAppFactoryOAuth)?null:(0,p.jsx)(k,_(_({},e),{},{i18n:n,locale:i,mwebFacebookDisabled:a,checkExperiment:o}))}var A=n(7111),O=n(30700),C=n(176532),T=n(160585),z=n(182666),E=n.n(z),I=n(966113),L=n(829407),B=n(826067),R=n(780280),Z=n(957161),D={defaultButton:{display:"flex",alignItems:"center",backgroundColor:"#00C300",border:"none",height:"40px",transition:"opacity .2s linear",width:"100%",borderRadius:"20px",padding:"0px 0px 0px 8px"},lineLogo:{borderRadius:"12px",backgroundColor:"#00C300",width:"32px",height:"32px"},buttonText:{fontWeight:"bold",color:"#fff",fontSize:"16px",paddingRight:"33px"}},U=function(e){var t,n=e.buttonText,o=e.onLineConnectSuccess,r=e.onLineConnectError,i=e.onTouch,l=(0,c.ZP)(),u=(0,s.Y)().checkExperiment,f=u("mweb_line_oauth_jp").anyEnabled,h=u("mweb_line_oauth_jp_android").anyEnabled,_=f||h,b=(0,T.Z)(10),g=(0,R.B)().locale,y=function(e){var n=(0,B.mB)(e);if(n.state&&n.code&&n.state===b){t&&!t.closed&&t.close();var i="".concat(window.location.origin,"/oauth/line/redirect");(0,C.Z)({url:"/oauth/line/verify",type:"POST",data:{code:n.code,redirect_uri:i}}).promise.then((function(e){var t=e.ok,n=e.responseText;if(t&&n){var i=JSON.parse(n),a=i.id_token,s=i.access_token;a&&s&&o({line_id_token:a,line_access_token:s},{line_id_token:a,line_access_token:s})}else r()}))}},m=function(e){e.isTrusted&&e.origin===window.location.origin&&e.data&&y(String(e.data))},v=function(e){if(e.isTrusted&&e.url.startsWith(window.location.origin)&&"lineOAuthOneTimeCode"===e.key){var t=(0,Z.qn)("lineOAuthOneTimeCode");t&&y(t)}};(0,L.Z)((function(){return function(){window.removeEventListener("message",m),window.removeEventListener("storage",v),(0,Z.L_)("lineOAuthOneTimeCode"),t&&!t.closed&&t.close()}}));var x=D.defaultButton;return _?(0,p.jsx)(d.xu,{position:"relative","data-test-id":"LineConnectContainer",children:(0,p.jsxs)("button",{onClick:function(){(0,a.My)("unauth_mweb.line_connect.button_click"),i&&i();var e="".concat(window.location.origin,"/oauth/line/redirect");window.addEventListener("message",m,!1),window.addEventListener("storage",v),t=window.open("https://access.line.me/oauth2/v2.1/authorize?response_type=code"+"&client_id=".concat(I.Z.settings.LINE_CLIENT_ID)+"&redirect_uri=".concat(encodeURIComponent(e))+"&state=".concat(b)+"&ui_locales=".concat(g)+"&scope=profile%20openid%20email","_blank")},style:x,type:"button","data-test-id":"line-connect-button",children:[(0,p.jsx)("img",{style:D.lineLogo,src:E(),alt:l._('line', 'accessible label for line icon', 'accessible label for line icon')}),(0,p.jsx)(d.kC,{alignItems:"center",justifyContent:"center",flex:"grow",children:(0,p.jsx)("span",{style:D.buttonText,children:n})})]})}):null},M=n(638543),F=n(499128),N=n(50286),G=n(634123),W=n(738759),H=n(400660),V=n(185894),Y=n(597897),X=n(584595),q=n(45169),J=n(169347),$=n(266725),K=n(967053),Q=n(760547),ee=n(343341);function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=ue(e);if(t){var r=ue(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return le(this,n)}}function le(e,t){if(t&&("object"===te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ce(e)}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(s,e);var t,n,r,i=se(s);function s(){var e;re(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return de(ce(e=i.call.apply(i,[this].concat(n))),"state",{isLoading:!1,showRegisterLoading:!1,signupPlatform:"default"}),de(ce(e),"onRegisterSuccess",(function(t){var n=e.props,o=n.navigateToUrl,r=n.next;e.trackSignupLoginEvent(7487,t),(0,a.NC)("signup_via_login_buttons"),["facebook","google"].includes(t)&&(r&&o(r),o("/")),e.setState({showRegisterLoading:!1})})),de(ce(e),"onRegisterFailure",(function(t,n){e.trackSignupLoginEvent(7488,n),e.props.showToast((function(n){var o=n.hideToast;return(0,p.jsx)(F.ZP,{text:t.message||e.props.i18n._('Sorry! Something went wrong on our end.', 'Error logging on', 'Error logging on'),onHide:o})})),e.setState({isLoading:!1,showRegisterLoading:!1})})),de(ce(e),"handlePostLoginRegistration",(function(t,n){var o=e.props,r=o.beforeRegister,i=o.checkExperiment;r&&i("mweb_unauth_signup_confirmation").anyEnabled?r(t,n):n()})),de(ce(e),"onLoginError",(function(t,n,o,r){e.setState({isLoading:!1}),!n||n.apiErrorCode!==X.xN&&n.apiErrorCode!==X.lg&&n.apiErrorCode!==X.Pv?n?((0,a.My)("mweb_login_button_skip_register.api_error_code.".concat(n.apiErrorCode)),e.props.showToast((function(t){var o=t.hideToast;return(0,p.jsx)(F.ZP,{text:n.apiErrorCode&&n.message?n.message:e.props.i18n._('Sorry, we can\'t log you in.', 'Error message when user having trouble login in.', 'Error message when user having trouble login in.'),onHide:o})}))):((0,a.My)("unauth_mweb.login.unexpected_error"),e.props.showToast((function(t){var n=t.hideToast;return(0,p.jsx)(F.ZP,{text:e.props.i18n._('Sorry, we can\'t log you in.', 'Error message when user having trouble login in.', 'Error message when user having trouble login in.'),onHide:n})}))):"line"===r||o.email||o.gplus_id_token?"line"===r?n.apiErrorCode===X.Pv?e.redirectToLineEmailCollect(o):e.registerAfterLoginError(t,n,o,r):e.handlePostLoginRegistration(o.email||"",(function(){return e.registerAfterLoginError(t,n,o,r)})):(0,u.uP)("email").then((function(i){var s=i.hasPerm;e.handlePostLoginRegistration("",(function(){return e.redirectToEmailCollect(o,t,n,r)})),(0,a.My)("unauth_mweb.reg_via_fb.has_email_perm.".concat(String(!!s)))})).catch((function(i){e.handlePostLoginRegistration("",(function(){return e.registerAfterLoginError(t,n,o,r)}))}))})),de(ce(e),"getAuxDataSignupLoginMethod",(function(e){switch(e){case"facebook":return 2;case"google":return 3;case"line":return 8;default:return}})),de(ce(e),"getViewParameterType",(function(e){switch(e){case"facebook":return 3205;case"google":return 3204;case"line":return 3556;default:return}})),de(ce(e),"trackSignupLoginEvent",(function(t,n){var o=e.props,r=o.isAuthenticated,i=o.isLimitedLoginUser;(0,$.j)({event_type:t,view_type:10,view_parameter:e.getViewParameterType(n),aux_data:oe(oe({},r?{login_state:i?2:1}:{}),{},{signup_login_method:e.getAuxDataSignupLoginMethod(n)})})})),de(ce(e),"trackButtonTap",(function(t){var n=e.props,o=n.isAuthenticated,r=n.isLimitedLoginUser,i=n.viewParameter;(0,$.So)({view_type:10,view_parameter:i,element:t,aux_data:oe({},o?{login_state:r?2:1}:{})})})),de(ce(e),"registerAfterLoginError",(function(t,n,o,r){var i=e.props,s=i.checkExperiment,l=i.deviceType,c=i.flushExp;if((0,a.My)("unauth_mweb.facebook_signup_attempt"),o.gender||(0,a.My)("unauth_mweb.facebook_signup_attempt.nogender"),e.includeAgeStep(r,o)&&("line"!==r||s("desktop"===l?"web_unauth_line_age_collection":"mweb_unauth_line_age_collection").anyEnabled))c(),e.props.history.push({pathname:"/signup/thirdpartyage/",state:{signupOptions:"facebook"===r?oe(oe({},o),{},{email_source_site:q.E_.FACEBOOK}):o,signupPlatform:r}});else{"facebook"===r&&o.birthday&&(o.birthday=String((0,J.r)(o.birthday||""))),e.setState({isLoading:!0,showRegisterLoading:!0,signupPlatform:r}),e.trackSignupLoginEvent(7537,r);var u="facebook"===r?oe(oe({},o),{},{email_source_site:q.E_.FACEBOOK,birthday_source_site:q.E_.FACEBOOK}):o;e.props.register(u).then((function(){return e.onRegisterSuccess(r)}),(function(t){return e.onRegisterFailure(t,r)}))}})),de(ce(e),"redirectToEmailCollect",(function(t,n,o,r){var i=e.props.country;e.props.history.push({pathname:"/signup/fbemailcollect/",state:{signupOptions:t,isGDPREUCountry:(0,q.NN)(i),country:i,includeAgeStep:e.includeAgeStep("facebook",t)}})})),de(ce(e),"redirectToLineEmailCollect",(function(t){e.props.history.push({pathname:"/signup/line-email-collect/",state:{signupOptions:t}})})),de(ce(e),"includeAgeStep",(function(e,t){return"facebook"!==e||!t.birthday||!(0,J.h)(t.birthday||"",18)})),de(ce(e),"handleFacebookError",(function(){var t=e.props.fbConnectHandler;t&&t("error"),e.props.showToast((function(t){var n=t.hideToast;return(0,p.jsx)(F.ZP,{text:e.props.i18n._('Unable to connect to Facebook', 'Error logging on with Facebook', 'Error logging on with Facebook'),onHide:n})}))})),de(ce(e),"handleLineError",(function(){e.props.showToast((function(t){var n=t.hideToast;return(0,p.jsx)(F.ZP,{text:e.props.i18n._('Unable to connect to Line', 'Error logging on with Line', 'Error logging on with Line'),onHide:n})}))})),de(ce(e),"handleSignupTouch",(function(t){var n=t.event,o=e.props,r=o.from,i=o.history,s=o.isBusiness,l=o.next,c=o.onSignupTouch,u=o.setLoginSignupFrom,d=o.location,p=o.isRedirectToNextParamAfterSignup;n&&(n.stopPropagation(),n.preventDefault()),(0,a.NC)("press_email_signup"),(0,a.LW)({action:"click",pageLocation:d,item:"email-signup-button"}),c&&c(),r&&u(r),e.trackButtonTap(31),i.push({pathname:s?"/business/signup/step1/":"/signup/step1/",search:d.search,state:{next:l,isRedirectToNextParamAfterSignup:p}})})),de(ce(e),"handleLoginTouch",(function(t){var n=t.event,o=e.props,r=o.isBusiness,i=o.footerCTA,s=o.from,l=o.history,c=o.next,u=o.onLoginTouch,d=o.location,p=o.isRedirectToNextParamAfterSignup;n.stopPropagation(),n.preventDefault(),u&&u(),s&&e.props.setLoginSignupFrom(s),(0,a.LW)({action:"click",pageLocation:d,item:"login-button"}),e.trackButtonTap(30);var f=i||"button";(0,a.My)("unauth_mweb.login_buttons.footer.".concat(f)),(0,a.NC)("press_login"),l.push({pathname:r?"/business/login/":"/login/",search:d.search,state:{next:c,isRedirectToNextParamAfterSignup:p}})})),de(ce(e),"handleFacebookTouch",(function(){var t=e.props,n=t.onFacebookTouch,o=t.location;n&&n(),(0,a.LW)({action:"click",pageLocation:o,item:"continue-facebook-button"}),e.trackButtonTap(68)})),de(ce(e),"handleLineTouch",(function(){e.trackButtonTap(12277),(0,a.LW)({action:"click",pageLocation:e.props.location,item:"continue-line-button"})})),de(ce(e),"login",(function(t){return function(n,o){var r=e.props,i=r.fbConnectHandler,s=r.history,l=r.login,c=r.next,u=r.location,d=r.noImmediateRedirect,p="google"===t?"gsi_btn":"other",f=u.state&&u.state.switch_account?{switchAccount:!0,trigger:p}:{noImmediateRedirect:d,trigger:p};"facebook"===t&&i&&i("success"),(0,a.NC)(t+"_login_success"),e.trackSignupLoginEvent(7534,t),l(n,s,c,f).then((function(){e.trackSignupLoginEvent(7536,t)})).catch((function(r){e.trackSignupLoginEvent(7535,t),e.onLoginError(n,r,o,t)})),e.setState({isLoading:!0,showRegisterLoading:!1,signupPlatform:t})}})),de(ce(e),"renderRegularButtons",(function(){var t=e.props,n=t.isBusiness,r=t.locale,i=t.googleText,a=t.facebookText,s=t.lineText,l=t.showEmailButton,c=t.fbButtonType,u=t.isRerequest,f=t.isAuthenticated,h=t.showEmailButtonAsSecondary,_=e.props.i18n._('Continue with email', 'Sign up button', 'Sign up button'),b=2;return n&&(_=e.props.i18n._('Create account', 'Button text for creating a business account', 'Button text for creating a business account'),b=-2),(0,p.jsxs)(o.Fragment,{children:[l&&(0,p.jsx)(d.xu,{"data-test-id":"continue-email-button",marginBottom:b,children:(0,p.jsx)(d.zx,{fullWidth:!0,color:h?"gray":"red",text:_,onClick:e.handleSignupTouch})}),a&&(0,p.jsx)(d.xu,{marginBottom:2,"data-test-id":"continue-facebook-button",children:(0,p.jsx)(S,{buttonText:a,locale:r,onFacebookConnectError:e.handleFacebookError,onFacebookConnectSuccess:e.login("facebook"),type:c,fbUseContinueAs:e.props.fbUseContinueAs,onTouch:e.handleFacebookTouch,isRerequest:u})}),i&&(0,p.jsx)(d.xu,{marginBottom:2,"data-test-id":"continue-google-button",children:(0,p.jsx)(M.Z,{isAuthenticated:f,onGoogleConnectSuccess:e.login("google")})}),s&&(0,p.jsx)(d.xu,{marginBottom:2,"data-test-id":"continue-line-button",children:(0,p.jsx)(U,{buttonText:s,onLineConnectError:e.handleLineError,onLineConnectSuccess:e.login("line"),onTouch:e.handleLineTouch})})]})})),e}return t=s,(n=[{key:"renderFooterCTA",value:function(){var e=this,t=this.props,n=t.footerCTA,o=t.increasedSpaceBelow,r=t.isMobileHomepage,i=t.removeLoginContainerPaddingY,a=t.textIsDark;return"member_link"===n?(0,p.jsx)(d.xu,{marginTop:-4,"data-test-id":"login-member",children:(0,p.jsx)(O.Z,{pressState:"none",onTouch:function(t){return e.handleLoginTouch({event:t})},children:(0,p.jsx)(d.xu,{paddingY:i?0:4,marginBottom:o?-1:-2,children:(0,p.jsx)(d.xv,{align:"center",size:"200",weight:"bold",color:r&&!a?"light":"dark",children:this.props.i18n._('Already a member? Log in', 'Link on mobile web sign up modal to direct unauth users to the login page', 'Link on mobile web sign up modal to direct unauth users to the login page')})})})}):"not_you_link"===n?(0,p.jsx)(d.xu,{marginTop:-3,"data-test-id":"LoginButtonsNotYoucontainer",children:(0,p.jsx)(O.Z,{pressState:"none",onTouch:function(t){return e.handleLoginTouch({event:t})},children:(0,p.jsxs)(d.xv,{size:"200",inline:!0,color:"default",children:[this.props.i18n._('Not you? ', 'Text for if the user is shown the wrong Facebook profile image for their account', 'Text for if the user is shown the wrong Facebook profile image for their account'),(0,p.jsx)(d.xv,{color:"default",inline:!0,size:"200",weight:"bold",children:this.props.i18n._('Log in as a different user.', 'Clickable text that takes the user to the login page', 'Clickable text that takes the user to the login page')})]})})}):(0,p.jsx)(d.xu,{marginBottom:5,"data-test-id":"login-button",children:(0,p.jsx)(d.zx,{fullWidth:!0,color:"transparent",onClick:this.handleLoginTouch,text:this.props.i18n._('Log in', 'Login page button', 'Login page button')})})}},{key:"renderRoundedButtons",value:function(){var e=this.props,t=e.locale,n=e.fbButtonType,o=e.isRerequest;return(0,p.jsxs)(d.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,p.jsx)(d.xu,{marginBottom:4,children:(0,p.jsx)(d.xv,{align:"center",color:"inverse",size:"200",children:this.props.i18n._('Sign up to get started', 'Sign up CTA', 'Sign up CTA')})}),(0,p.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,p.jsxs)(d.xu,{"data-test-id":"signup-button",rounding:"circle",display:"flex",direction:"column",alignItems:"center",marginBottom:4,marginEnd:4,children:[(0,p.jsx)("button",{onClick:this.handleSignupTouch,style:{border:"none",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#FFF",height:"48px",width:"48px",marginBottom:"8px",borderRadius:"50%",cursor:"pointer"},type:"button",children:(0,p.jsx)(d.JO,{accessibilityLabel:this.props.i18n._('Continue with email', 'Sign up with email button', 'Sign up with email button'),icon:"gmail",color:"default",inline:!0,size:16})}),(0,p.jsx)(d.xv,{color:"inverse",size:"200",children:this.props.i18n._('Email', 'Icon text for continuing with email', 'Icon text for continuing with email')})]}),(0,p.jsx)(d.xu,{marginEnd:4,children:(0,p.jsx)(S,{locale:t,onFacebookConnectError:this.handleFacebookError,onFacebookConnectSuccess:this.login("facebook"),type:n,fbUseContinueAs:this.props.fbUseContinueAs,onTouch:this.handleFacebookTouch,isRerequest:o,isRounded:!0})}),(0,p.jsx)(M.Z,{onGoogleConnectSuccess:this.login("google")})]})]})}},{key:"render",value:function(){var e=this.props,t=e.isBusiness,n=e.showTextDivider,o=e.roundButtons,r=e.showLoginButtons,i=e.secondaryAccountFlowEnabled,a=this.state,s=a.showRegisterLoading,l=a.isLoading,c=a.signupPlatform,u=t?i?6:-5:0;return(0,p.jsxs)(d.xu,{marginTop:u,maxWidth:400,marginStart:"auto",marginEnd:"auto","data-test-id":"LoginButtonsContainer",children:[n&&(0,p.jsx)(d.xu,{marginBottom:3,marginTop:3,children:(0,p.jsx)(d.xv,{align:"center",size:"100",weight:"bold",children:this.props.i18n._('OR', 'Separator for email login button and social login button', 'Separator for email login button and social login button')})}),(0,p.jsx)(d.xu,{marginBottom:6,children:o?this.renderRoundedButtons():this.renderRegularButtons()}),r&&this.renderFooterCTA(),l&&(s?(0,p.jsx)(W.Z,{platform:"line"===c?"default":c}):(0,p.jsx)(A.Z,{}))]})}}])&&ie(t.prototype,n),r&&ie(t,r),s}(o.PureComponent);de(pe,"defaultProps",{next:"/",fbUseContinueAs:!0,footerCTA:"button"});var fe=(0,r.connect)((function(e,t){var n=e.session,o=e.users,r=void 0===o?{}:o;return{country:n.country,locale:n.locale,isAuthenticated:n.isAuthenticated,isLimitedLoginUser:(0,H.xT)(r[n.userId]),isTablet:n.isTablet}}),(function(){return{}}))((function(e){var t=(0,l.k6)(),n=(0,l.TH)(),i=(0,c.ZP)(),a=(0,ee.F9)().showToast,u=(0,r.useDispatch)(),d=(0,K.f0)(),f=e.showEmailButton,h=e.showLoginButtons,_=(0,Y.U)(),b=(0,s.Y)(),g=b.checkExperiment,y=(0,N.ZP)(),m=(0,Q.m)(),v=(0,G.Z)();return(0,o.useEffect)((function(){_&&(h&&_.load(new URL("login.js","file://")),f&&_.load(new URL("signup.js","file://")))}),[]),(0,p.jsx)(pe,oe(oe({},e),{},{history:t,location:n,i18n:i,login:d,navigateToUrl:v,register:m,setLoginSignupFrom:function(e){return u((0,V.rm)(e))},showToast:a,deviceType:y,flushExp:function(){return b.flush()},checkExperiment:g}))}))},977981:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var o=n(966113),r=n(898781),i=n(349700),a=n(867820),s=n(266725),l=n(937666),c=n(908390),u=n(515198);function d(e){var t=e.isMobileHomepage,n=e.isTabletHomepage,d=e.isBusiness,p=void 0!==d&&d,f=(e.size,e.alignText),h=void 0===f?"center":f,_=e.viewType,b=e.viewParameter,g=(0,r.ZP)(),y=(0,l.TH)(),m=o.Z.settings.POLICY_PRIVACY_URL,v=p?o.Z.settings.PARTNER_SITE_TOS_URL:o.Z.settings.POLICY_TERMS_PLAIN_URL;return(0,u.jsx)(c.xu,{display:"flex",alignItems:"left"===h?"start":"center",alignSelf:"center",direction:"row",justifyContent:"center",paddingX:4,wrap:!0,children:(0,u.jsx)(c.xv,{color:t?"inverse":n?"default":"subtle",align:"left"===h?"start":"center",size:n?"300":"100",overflow:"normal",inline:!0,children:(0,i.nk)(g._('By continuing, you agree to Pinterest\'s {{ termsOfService }} and acknowledge you\'ve read our {{ privacyPolicy }}', ' - ', ' -- '),{termsOfService:(0,u.jsx)(c.xu,{display:"inlineBlock","data-test-id":"business-tos",children:(0,u.jsx)(c.xv,{color:t?"inverse":n?"default":"subtle",inline:!0,size:n?"300":"100",weight:"bold",children:(0,u.jsx)(c.rU,{href:v,inline:!0,target:"blank",onClick:function(){(0,a.LW)({action:"click",pageLocation:y,item:"business-tos"}),_&&b&&(0,s.So)({view_type:_,view_parameter:b,element:8012})},underline:"hover",children:p?g._('Business Terms of Service', 'Mobile web business terms of service link for partners', 'Mobile web business terms of service link for partners'):g._('Terms of Service', 'Mobile web terms of service link', 'Mobile web terms of service link')})})},"termsOfService"),privacyPolicy:(0,u.jsx)(c.xu,{display:"inlineBlock","data-test-id":"privacy",children:(0,u.jsx)(c.xv,{color:t?"inverse":n?"default":"subtle",inline:!0,size:n?"300":"100",weight:"bold",children:(0,u.jsx)(c.rU,{href:m,inline:!0,target:"blank",onClick:function(){(0,a.LW)({action:"click",pageLocation:y,item:"privacy-policy"}),_&&b&&(0,s.So)({view_type:_,view_parameter:b,element:8004})},underline:"hover",children:g._('Privacy Policy', 'Mobile web privacy policy link', 'Mobile web privacy policy link')})})},"privacyPolicy")})})})}},33128:function(e,t,n){"use strict";n.d(t,{Z:function(){return q}});var o=n(76911),r=n(48676),i=n(391254),a=n(256548),s=n(941646),l=n(829407),c=n(898781),u=n(965708),d=n(499128),p=n(343341),f=n(833715),h=n(515198);function _(e,t,n,o,r,i,a){try{var s=e[i](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(o,r)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(l){s=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var y=function(e){var t=(0,c.ZP)(),r=b((0,o.useState)(""),2),i=r[0],a=r[1],s=b((0,o.useState)(""),2),l=s[0],u=s[1],g=b((0,o.useState)(""),2),y=g[0],m=g[1],v=(0,o.useRef)(null),x=(0,p.F9)().showToast,w=function(){(0,f.Iz)(12,l,e,1),x((function(e){var n=e.hideToast;return(0,h.jsx)(d.ZP,{text:t._('Copied link to your clipboard to share', 'url link was copied to user clipboard', 'url link was copied to user clipboard'),onHide:n})}))},j=function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var o,r,i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,f.yP)(n,e,1);case 2:o=t.sent,r=o.invitePath,i=o.inviteCode,s=o.title,r&&a(r),i&&u(i),s&&m(s);case 9:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(e){_(i,o,r,a,s,"next",e)}function s(e){_(i,o,r,a,s,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}(),P=(0,o.useRef)(null);(0,o.useEffect)((function(){j(12),n.e(6527).then(n.t.bind(n,599186,23)).then((function(e){var t=e.default;t.isSupported()&&(P.current=t)}))}),[]),(0,o.useEffect)((function(){v.current&&(0,f.sF)(i,P.current,v.current,w)}),[i]);var k=(0,o.useRef)();return(0,o.useEffect)((function(){k.current!==e&&j(12),k.current=e}),[e]),{invitePath:i,inviteCode:l,inviteTitle:y,setFreshInviteCode:j}},m=n(100183),v=n(957161),x=n(867820),w=n(266725),j=n(862624),P=n(50286),k=n(937666),S=n(391968),A=n(90771),O=n(659522),C=n(214680),T=n(331744),z=n(757146),E=n(862960),I=n(464240),L=n(89396),B=n(22641),R=n(908390),Z=function(){var e=(0,c.ZP)();return(0,h.jsx)(R.JO,{color:"inverse",accessibilityLabel:e._('Share with Line', 'closeup.icon.line_social_share', 'Share with Line App'),icon:void 0,size:24,dangerouslySetSvgPath:{__path:"M24 10c0 3.14-1.73 5.94-4.45 7.77L11 24v-4.03C4.84 19.54 0 15.24 0 10 0 4.48 5.37 0 12 0s12 4.48 12 10zM3.25 13H7v-1.5H4.75V7h-1.5zm17.5-4.5V7h-4v6h4v-1.5h-2.5v-.75h2.5v-1.5h-2.5V8.5zM8 7v6h1.5V7zm2.5 0v6H12V9.4l2.25 3.6h1.5V7h-1.5v3.6L12 7z"}})},D=function(){var e=(0,c.ZP)();return(0,h.jsx)(R.JO,{color:"inverse",accessibilityLabel:e._('Share with WhatsApp', 'closeup.icon.whatsapp_social_share', 'Share with WhatsApp App'),icon:void 0,size:24,dangerouslySetSvgPath:{__path:"M17.53 14.49l-2.21-1.02c-.2-.11-.39-.02-.59.22-.24.32-.35.45-.63.8-.15.19-.26.32-.43.35-.2.04-.46-.06-.5-.06-.69-.24-1.49-.82-2.1-1.37-.59-.54-1.23-1.3-1.52-1.97-.04-.09-.13-.3 0-.48.26-.35.3-.37.58-.69.19-.24.35-.45.28-.65l-.95-2.55c-.09-.17-.35-.19-.65-.21-.26 0-.54 0-.74.04-.43.15-1.32 1.32-1.43 2.17-.24 1.84 1.43 4.29 3.1 5.81 1.67 1.54 4.24 2.99 6.06 2.58.84-.19 1.93-1.17 2.01-1.62.04-.19.02-.48-.02-.74-.02-.31-.08-.53-.26-.61z M12.01.53C5.66.53.53 5.67.53 11.99c0 2.14.6 4.25 1.73 6.07l-1.3 5.32 5.76-1.21c1.63.85 3.44 1.3 5.28 1.3 6.32 0 11.46-5.13 11.46-11.48C23.47 5.66 18.33.53 12.01.53zm0 20.65c-1.69.01-3.34-.46-4.76-1.34l-3.63 1.08 1.03-3.39C3.52 15.97 2.82 13.94 2.82 12c0-5.07 4.12-9.17 9.18-9.17 5.06-.01 9.16 4.09 9.16 9.14v.02c.01 5.07-4.08 9.19-9.15 9.19z"}})};function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(l){s=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W="#ffffff",H="ANIMATE_SHARE",V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(t){var n="".concat(H,"_default {\n      from: {\n        opacity: 1;\n        visibility:visible;\n      }\n      7% {\n        fill: ").concat(W,";\n        opacity: 0;\n        visibility:hidden;\n      }\n      89% {\n        fill: ").concat(W,";\n        opacity: 0;\n        visibility:hidden;\n      }\n      93% {\n        opacity: 0.5;\n        visibility:visible;\n      }\n      to {\n        fill: #111111;\n        opacity: 1;\n        visibility:visible;\n      }\n    }"),o="".concat(H,"_upsellApp {\n      from {\n        opacity: 0;\n        fill: ").concat(W,";\n      }\n      7% {\n        fill: ").concat(W,";\n        transform: scale(1.25);\n        opacity: 1;\n      }\n      11% {\n        transform: scale(1);\n        opacity: 1;\n      }\n      89% {\n        fill: ").concat(W,";\n        transform: scale(1);\n        opacity: 1;\n      }\n      93% {\n        transform: scale(1.25);\n        opacity: 1;\n      }\n      to {\n        fill: ").concat(W,";\n        opacity: 0;\n      }\n    }");return(0,m.Ll)([n,o])}var r="".concat(H,"_container {\n      from {\n        background: ").concat(W,";\n      }\n      5% {\n        background: ").concat(e,";\n        transform: scale(0.5);\n        opacity: 0.3;\n      }\n      10% {\n        transform: scale(1.3);\n        opacity: 0.5;\n      }\n      15% {\n        transform: scale(1);\n        opacity: 1;\n      }\n      85% {\n        transform: scale(1);\n        background: ").concat(e,";\n        opacity: 1;\n      }\n      90% {\n        transform: scale(1.1);\n        background: ").concat(e,";\n        opacity: 0.5;\n      }\n      95% {\n        transform: scale(1.3);\n        background: ").concat(e,";\n        opacity: 0.1;\n      }\n      to {\n        opacity: 0;\n        background: ").concat(W,";\n        transform: scale(1);\n      }\n    }"),i="".concat(H,"_default {\n      from: {\n        opacity: 1;\n        visibility:visible;\n      }\n      10% {\n        fill: ").concat(W,";\n        opacity: 0;\n        visibility:hidden;\n      }\n      90% {\n        fill: ").concat(W,";\n        opacity: 0;\n        visibility:hidden;\n      }\n      95% {\n        opacity: 0.5;\n        visibility:visible;\n      }\n      to {\n        fill: #111111;\n        opacity: 1;\n        visibility:visible;\n      }\n    }"),a="".concat(H,"_upsellApp {\n      from {\n        opacity: 0;\n        fill: ").concat(W,";\n      }\n      10% {\n        fill: ").concat(W,";\n        transform: scale(1.3);\n        opacity: 0.3;\n      }\n      15% {\n        transform: scale(1);\n        opacity: 1;\n      }\n      89% {\n        fill: ").concat(W,";\n        transform: scale(1);\n        opacity: 1;\n      }\n      90% {\n        transform: scale(1.1);\n        opacity: 0.5;\n      }\n      95% {\n        transform: scale(1.3);\n        opacity: 0.1;\n      }\n      to {\n        fill: ").concat(W,";\n        opacity: 0;\n      }\n    }");return(0,m.Ll)([r,i,a])},Y=function(e,t){return t?{animation:"".concat(H,"_").concat(e," ").concat(S.ER,"ms ease-in-out"),WebkitAnimation:"".concat(H,"_").concat(e," ").concat(S.ER,"ms ease-in-out")}:{animation:"".concat(H,"_").concat(e," ").concat(S.zn,"ms linear ").concat(S.W_,"s"),WebkitAnimation:"".concat(H,"_").concat(e," ").concat(S.zn,"ms linear ").concat(S.W_,"s")}},X=function(e){var t=e.children,n=e.inAnimationUpdateExperiment,o=e.upsell;return o?((0,v.Nh)(S.RV,Date.now()),(0,h.jsxs)(R.xu,{children:[(0,h.jsx)(i.Z,{unsafeCSS:V(o.color,n)}),(0,h.jsxs)(R.xu,{alignItems:"center",justifyContent:"center",display:"flex",width:n?48:44,height:n?48:44,borderStyle:"none",dangerouslySetInlineStyle:{__style:N({borderRadius:"22px"},Y("container",n))},children:[(0,h.jsx)(R.xu,{position:"absolute",opacity:0,dangerouslySetInlineStyle:{__style:Y("upsellApp",n)},children:o.icon}),(0,h.jsx)(R.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:Y("default",n)},children:t})]})]})):t},q=function(e){var t=e.onDefaultSendButtonClick,n=e.pinId,i=e.sendButtonColor,d=e.viewParameter,p=(0,c.ZP)(),_=(0,u.Z)(),b=(0,P.HG)(),g=(0,k.TH)(),m=(0,r.useSelector)((function(e){return e.session})).country,M=(0,r.useSelector)((function(e){return e.session.userAgentPlatform})),F="ios"===M||"ipad"===M,N=y(n),G=N.invitePath,W=N.inviteCode,H=N.inviteTitle,V=N.setFreshInviteCode,Y=U((0,o.useState)(),2),q=Y[0],J=Y[1],$=(0,j.Y)().checkExperiment,K=S.se.has(m)||S.lg.has(m),Q=!b&&$(_?K?"mweb_animate_share_icon_targeted_countries":"mweb_animate_share_icon":K?"unauth_mweb_animate_share_icon_targeted_countries":"unauth_mweb_animate_share_icon").anyEnabled,ee=function(){(0,x.LW)({action:"click",pageLocation:g,item:"share-button"}),(0,w.So)({component:194,element:46,view_type:3,view_parameter:d})};(0,l.Z)((function(){if(Q){var e=function(e){var t=e.country,n=e.isAppleDevice,o=(0,v.qn)(S.RV);if(!(o&&Date.now()-Number(o)<S.bm))switch(Number((0,v.qn)(S.Cq))||S.iS.get(t)||10){case 5:return(0,h.jsx)(O.Z,{size:S.VZ});case 6:return(0,h.jsx)(z.Z,{size:S.VZ});case 8:return(0,h.jsx)(T.Z,{size:S.VZ});case 4:return n?(0,h.jsx)(C.Z,{size:S.VZ}):(0,h.jsx)(A.Z,{size:S.VZ});case 20:return(0,h.jsx)(E.Z,{size:S.VZ});case 9:return(0,h.jsx)(I.Z,{size:S.VZ});case 22:return(0,h.jsx)(L.Z,{size:S.VZ});case 10:return(0,h.jsx)(B.Z,{size:S.VZ})}return null}({country:m,isAppleDevice:F});if(e){var n={icon:(0,h.jsx)(R.iP,{onTap:function(e){return function(e){ee(),t(e)}(e.event)},children:e}),color:""};setTimeout((function(){J(n)}),S.Px)}}}));var te=Q?null:function(e){var t=e.country,n=e.handleUpsellAppClick,o=e.i18n,r=e.invitePath,i=e.inviteTitle;return S.se.has(t)?{icon:(0,h.jsx)(R.rU,{rel:"nofollow",href:(0,f.tA)({invitePath:r,inviteTitle:i,i18n:o}).whatsappShareLink,onClick:function(){return n(10)},children:(0,h.jsx)(D,{})}),color:"#25D366"}:S.lg.has(t)?{icon:(0,h.jsx)(R.rU,{rel:"nofollow",href:(0,f.tA)({invitePath:r,inviteTitle:i,i18n:o}).lineShareLink,onClick:function(e){(0,e.dangerouslyDisableOnNavigation)(),n(8)},children:(0,h.jsx)(Z,{})}),color:"#00B900"}:null}({country:m,i18n:p,invitePath:G,inviteTitle:H,handleUpsellAppClick:function(e){(0,f.Iz)(e,W,n,1),V(e),(0,w.So)({view_type:3,view_parameter:d,component:194,element:e}),(0,v.Nh)(S.Cq,e)}});return(0,h.jsx)(X,{inAnimationUpdateExperiment:Q,upsell:Q?q:te,children:(0,h.jsx)(s.Z,{id:"share-button-no-animation",children:(0,h.jsx)(a.Z,{onSendButtonClick:t,trackShareTap:ee,color:i})})})}},418651:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var o=n(209236),r=n(39540),i=n(908390),a=n(515198),s=new i.H3([r.Z]);function l(e){var t=e.anchor,n=e.onDismiss,r=e.objectId,l=e.objectType,c=e.title;return(0,a.jsx)(i.mh,{zIndex:s,children:(0,a.jsx)(i.J2,{anchor:t,onDismiss:n,size:"xl",positionRelativeToAnchor:!1,children:(0,a.jsxs)(i.kC,{alignItems:"center",direction:"column",wrap:!0,width:360,overflow:"hidden",children:[(0,a.jsx)(i.xu,{marginTop:4,marginBottom:4,children:(0,a.jsx)(i.xv,{size:"300",weight:"bold",children:c})}),(0,a.jsx)(i.kC,{width:360,children:(0,a.jsx)(o.Z,{objectId:r,objectType:l,onDismiss:n})})]})})})}},743873:function(e,t,n){"use strict";n.d(t,{n:function(){return x},Z:function(){return w}});var o=n(48676),r=n(474635),i=n(104788),a=n(966476),s=function(e){var t,n,r=e.children,i=e.fallback;return t=(0,o.useSelector)((function(e){var t;return!(null==e||null===(t=e.session)||void 0===t||!t.isSeoBot)})),n=(0,a.Z)(),t||n?r:i||null},l=n(949372),c=n(898781),u=n(125920),d=n(867820);var p=n(643010),f=n(968228),h=n(266725),_=n(862624),b=n(385740),g=n(53987),y=n(908390),m=n(937666),v=n(515198),x=56;function w(){var e,t=(0,c.ZP)(),n=(0,m.TH)(),a=(0,m.k6)(),w=(0,b.SU)(),j=w.viewType,P=w.viewParameter,k=(0,o.useSelector)((function(e){return e.session})),S=k.userAgentPlatform,A=k.userAgent,O=(0,f.Rp)({platform:S,userAgent:A}),C=(0,u.Z)(),T=(e=(0,o.useSelector)((function(e){return e.session})).isSeoBot,function(t,n){e||(0,d.NC)(t,n)}),z=(0,l.Z)(),E=(0,_.Y)().checkExperiment,I=t._('Log in', 'Label for log in button', 'Label for log in button'),L=t._('Sign up', 'Text on button on the top bar that leads users to signing up.', 'Text on button on the top bar that leads users to signing up.'),B=t._('Download', 'mweb.unauth.interstitial_upsell.download_button_text', 'CTA on the app interstitial upsell to install the app'),R=!O&&!(0,g.Xn)(n),Z=((0,g.J3)(n)||(0,g.$Y)(n))&&!E("lex_follow_button").group.includes("main_cta"),D=!z||C||Z?"signup":"download",U=(R?I.length:0)+("signup"===D?L.length:0)+("download"===D?B.length:0);return(0,v.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 0 0 rgba(0, 0, 0, 0.08)",backgroundColor:(0,p.Yc)()?"#333":"white",transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:"translateY(0)"}},top:!0,left:!0,width:"100vw",position:"relative",paddingX:3,children:(0,v.jsxs)(y.xu,{alignItems:"center","data-test-id":"unauth-header",direction:"row",display:"flex",justifyContent:"between",children:[(0,v.jsx)(y.iP,{accessibilityLabel:t._('Pinterest App', 'Pinterest icon for app upsell', 'Pinterest icon for app upsell'),onTap:function(){(0,d.LW)({action:"click",pageLocation:n,within:"unauth-header",item:"pinterest-logo"})},children:(0,v.jsxs)(y.xu,{alignItems:"center",display:"flex",direction:"row",marginEnd:3,children:[(0,v.jsx)(y.xu,{alignItems:"center",display:"flex",height:x,justifyContent:"center",rounding:2,"data-test-id":"pinterest-logo-icon",children:(0,v.jsx)(y.iP,{role:"link",tapStyle:"none",href:"/",children:O?(0,v.jsx)(i.Z,{size:24}):(0,v.jsx)(y.hU,{icon:"pinterest",iconColor:"red",padding:1,size:"xl",accessibilityLabel:t._('Pinterest App', 'Pinterest icon for app upsell', 'Pinterest icon for app upsell')})})}),(0,v.jsx)(y.xu,{paddingY:2,paddingX:1,"data-test-id":"pinterest-logo-text",children:U<18&&(0,v.jsxs)(y.xu,{children:[(0,v.jsx)(y.X6,{color:"error",size:"400",overflow:"normal",children:O?t._('Pinterest Lite', 'Pinterest lite brand for the app upsell', 'Pinterest lite brand for the app upsell'):t._('Pinterest', 'Pinterest brand for the app upsell', 'Pinterest brand for the app upsell')}),O&&(0,v.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:(0,v.jsx)(y.xu,{children:(0,v.jsx)(y.xv,{inline:!0,size:"100",color:"subtle",children:t._('Save space on your device', 'Unauth app upsell copy that describe Pinterest product core value to users', 'Unauth app upsell copy that describe Pinterest product core value to users')})})})]})})]})}),(0,v.jsx)(s,{children:(0,v.jsxs)(y.xu,{marginEnd:0,flex:"none",alignItems:"center",display:"flex",direction:"row","data-test-id":"UnauthAppUpsellButton",children:[R&&(0,v.jsx)(y.xu,{"data-test-id":"login-button",children:(0,v.jsx)(y.zx,{fullWidth:!0,color:"white",onClick:function(){(0,d.LW)({action:"click",pageLocation:n,within:"unauth-header",item:"login-button"}),(0,h.So)({component:13198,element:30,view_type:j,view_parameter:P}),T("press_header_login"),a.push("/login",n.state)},size:"md",text:I})}),"signup"===D?(0,v.jsx)(y.xu,{"data-test-id":"signup-button",children:(0,v.jsx)(y.zx,{fullWidth:!0,color:Z?"red":"gray",onClick:function(){(0,d.LW)({action:"click",pageLocation:n,within:"unauth-header",item:"signup-button"}),(0,h.So)({component:13198,element:31,view_type:j,view_parameter:P}),T("press_header_signup"),a.push("/signup",n.state)},size:"md",text:L})}):(0,v.jsx)(y.xu,{"data-test-id":"download-button",children:(0,v.jsx)(r.Z,{componentType:13198,within:"unauth-header",children:function(e){var t=e.handleOpenApp;return(0,v.jsx)(y.zx,{fullWidth:!0,color:(0,g.j8)(n)||E("lex_follow_button").group.includes("main_cta")?"gray":"red",onClick:function(){return t()},size:"md",text:B})}})})]})})]})})}},39540:function(e,t,n){"use strict";var o=new(n(908390).Ry)(9999);t.Z=o},631193:function(e,t,n){"use strict";var o=n(48676),r=n(436851),i=n(826067),a=n(937666),s=n(870167);t.Z=function(){var e=(0,a.TH)(),t=(0,s.a)(),n=(0,o.useSelector)((function(e){return e.session})),l=n.locale,c=n.userAgentPlatform,u=n.userAgent;if(!t)return!1;var d=t.appInstallBannerIsEnabled,p=t.pinPageGlobalContext,f=!!(0,i.mB)(e.search).invite_code;return d&&!(0,r.$)(u)&&!(l.includes("ar")&&"ios"!==c)&&!(!0===(null==p?void 0:p.isStoryPin)&&f)}},125920:function(e,t,n){"use strict";var o=n(48676),r=n(172071),i=n(949372),a=n(436851),s=n(968228),l=n(50286),c=n(937666),u=n(780280),d=n(419940),p=n(622096),f=n(53987);t.Z=function(){var e=(0,u.B)().isBot,t=(0,c.TH)(),n=(0,o.useSelector)((function(e){return e.session})),h=n.userAgentPlatform,_=n.userAgent,b=(0,i.Z)(),g=(0,l.ml)();return!e&&!(g&&!b)&&!(0,s.Rp)({platform:h,userAgent:_})&&((0,f.uM)(t)||(0,f.am)(t))&&!(0,d.P)()&&!function(e){return!!(0,a.d)(e)&&((0,p.qn)("ufausfiiab")||(r.Z.increment("unauth.floating_app_upsell.suppress_for_instagram_in_app_browser"),(0,p.Nh)("ufausfiiab","1")),!0)}(_)}},169347:function(e,t,n){"use strict";n.d(t,{h:function(){return a},r:function(){return i}});var o=/^(0[1-9]|1[012])\/(0[1-9]|[12][0-9]|3[01])\/((19|20)[0-9]{2})$/,r=/^(19|20)[0-9]{2}$/,i=function(e){return o.test(e)||r.test(e)?new Date(e).getTime()/1e3:-1},a=function(e,t){var n=new Date;if(o.test(e)){var i=new Date(n.getFullYear()-t,n.getMonth(),n.getDate());return new Date(e)<=i}if(r.test(e)){var a=n.getFullYear()-t-1;return new Date(e).getFullYear()<=a}return!1}},760547:function(e,t,n){"use strict";n.d(t,{m:function(){return z}});var o=n(48676),r=n(231486),i=n(957161),a=n(693099);function s(){return function(e){var t={};return e.forEach((function(e){var n=JSON.parse((0,i.qn)(e));n&&(t[e]=n)})),JSON.stringify(t)}([a.E9])}var l=n(6637),c=n(729252),u=n(371415),d=n(383690),p=n(743413),f=n(45169),h=n(81759),_=n(957191),b=n(983360),g=n(226198),y=n(622096),m=n(738759),v=n(867820),x=n(408285),w=n(584595),j=n(396910),P=n(330102),k=n(297507),S=n(3223),A=n(969230);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(){var e=(0,o.useDispatch)(),t=(0,o.useSelector)((function(e){return e.session})),n=t.country,i=t.country_from_hostname,a=t.country_from_ip,O=t.region_from_ip,T=t.isAuthenticated,z=t.origin,E=t.inviteCode,I=t.locale,L=t.referrer,B=(0,d.Z)();return function(t){B();var o=0,d=(0,m.R)(n),R=new Promise((function(e,t){d?setTimeout((function(){e()}),3e3):e()}));return new Promise((function(d,m){!function B(){var Z=T,D=(0,h.t_)();((0,j.lJ)(z)&&!1?(0,j.$p)(C({invite_code:E,locale:I,referrer:L},t)):l.ZP.create("UserRegisterResource",C(C({},t),{},{get_user:!0,user_behavior_data:s(),visited_pages:D})).callCreate()).then((function(o){return R.then((function(){var r,s,l;(0,y.L_)("d_pif_invite"),e((r=o.resource_response.data.user,s=o.client_context.active_experiments,l=o.client_context.triggerable_experiments,{type:b.c7,payload:{user:r,active:s,triggerable:l}})),e((0,_.OD)(o.client_context.placed_experiences)),Z&&(0,u.Z)("registration.signup_success");var h=t.email||t.username||null,g=t.password||null;if(navigator.credentials&&h&&g)try{var m=new window.PasswordCredential({id:h,password:g});(0,v.My)("unauth_mweb.navigatorCredentials.store.attempt"),navigator.credentials&&"function"==typeof navigator.credentials.store&&navigator.credentials.store(m).then((function(){(0,v.My)("unauth_mweb.navigatorCredentials.store.success")}))}catch(w){(0,v.My)("unauth_mweb.navigatorCredentials.store.error")}(0,A.h3)({action:"signup",type:(0,f.sR)(t)}),(0,c.Z)(),Z&&(0,x.Dm)(),(0,S.c_)({country:n,countryFromHostName:i,countryFromIp:a})&&(0,k.yP)({id:p.J3,eventCategory:"NewUsers",eventName:"Mobile"}),(0,S.$r)({country:n,countryFromHostName:i,countryFromIp:a,regionFromIp:O})&&(0,k.jw)({id:"flashtalking-m-reg",eventCategory:"NewUsers",eventName:"Mobile"}),(0,S.NR)(n,O)&&(0,k.EN)({pixelId:P.NS,eventCategory:"NewUsers",eventName:"Mobile"}),(0,S.Fc)({country:n,countryFromHostName:i,countryFromIp:a})&&(0,k.Be)({pixelId:P.Ks,eventCategory:"NewUsers",eventName:"Mobile"}),d()}))})).catch((function(e){var n=e.apiErrorCode,i=void 0===n?null:n;i&&i===w.tz&&((0,v.My)("multi_step_set_age_restrict_cookie"),r.t8(g.It,"1",(0,r.kZ)(g.It))),o<3&&(!i||[w.dO,w.cZ].includes(i))?(o+=1,B()):((0,A.wp)({action:"signup",type:(0,f.sR)(t)}),Z&&(0,u.Z)("registration.signup_error"),m(e))}))}()}))}}},634123:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var o=n(56641),r=n(937666),i=n(50286);function a(){var e=(0,r.k6)(),t=(0,i.HG)();return function(n){t?(0,o.Z)(n):e.push(n)}}},333312:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var o=n(76911),r=n(121093),i=n(570470),a=n(908390),s=n(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=_(e);if(t){var r=_(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,e);var t,n,o,r=p(i);function i(){var e;c(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return b(h(e=r.call.apply(r,[this].concat(n))),"onScroll",(function(){var t=e.props.dismiss;e.dismissed||e.timer||(e.timer=setTimeout((function(){t(),e.dismissed=!0,e.timer=void 0}),3e3))})),b(h(e),"dismissed",!1),e}return t=i,(n=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.props,t=e.anchor,n=e.text,o=e.thumbnails,r=e.idealDirection,i=o.slice(-3);return(0,s.jsx)(a.J2,{anchor:t,color:"white",idealDirection:r,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,s.jsxs)(a.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,s.jsx)(a.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,s.jsx)(a.xv,{color:"default",weight:"bold",children:n})}),(0,s.jsx)(a.xu,{display:"flex",marginEnd:-2,paddingX:2,children:i.map((function(e){return(0,s.jsx)(a.xu,{height:60,width:50,paddingX:1,children:(0,s.jsx)(a.zd,{rounding:2,height:60,children:(0,s.jsx)(a.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)}))})]})})}}])&&u(t.prototype,n),o&&u(t,o),i}(o.PureComponent);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=k(e);if(t){var r=k(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(u,e);var t,n,l,c=w(u);function u(){var e;m(this,u);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return S(P(e=c.call.apply(c,[this].concat(n))),"state",{paused:!1}),S(P(e),"handlePulsarClick",(function(t,n){t?e.setState({paused:!0}):n()})),e}return t=u,(n=[{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"setDefaultPulsarTooltip",value:function(e){var t=function(e){return!(null==e)};e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}},{key:"getText",value:function(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}},{key:"render",value:function(){var e=this,t=this.props,n=t.anchor,l=t.customWrapper,c=t.experienceIds,u=t.boardTextOverride,d=t.flyoutSize,p=t.fontSize,f=t.hasFullWidthButton,h=void 0===f||f,_=t.idealDirection,b=t.useMasonryFlyout,y=t.noClickToDismiss,m=t.onClickComplete,v=t.onClickDismiss,x=t.placementId,w=t.positionRelativeToAnchor,j=t.shouldTimeoutDismiss,P=t.showCaret,k=t.textAlign,S=t.textOverflow,A=t.textOverrideFn,O=t.textWeight,C=t.customizedComplete,T=t.pulsarZIndex,z=l||function(e){var t=e.children;return b?(0,s.jsx)(a.mh,{children:t}):t},E="blue";return(0,s.jsx)(r.Z,{eligibleIds:c,placementId:x,eligibleTypes:[8],children:function(t){var r=t.complete,l=t.dismiss,c=t.experience.display_data;return e.setDefaultPulsarTooltip(c),c.has_pulsar||c.has_tooltip?(j&&c.disappearTime&&c.disappearTime>0&&(e.timer=setTimeout((function(){return l(),null}),c.disappearTime)),(0,s.jsxs)(o.Fragment,{children:[c.has_pulsar&&(0,s.jsx)(i.Z,{anchor:n,onTouch:function(){return e.handlePulsarClick(c.has_tooltip,r)},paused:e.state.paused,zIndex:T&&T.index()}),c.has_tooltip&&(!c.has_pulsar||e.state.paused)&&(c.thumbnail_urls?(0,s.jsx)(g,{anchor:n,dismiss:l,idealDirection:_||"down",text:c.text,thumbnails:c.thumbnail_urls}):(0,s.jsx)(z,{children:(0,s.jsx)(a.J2,{anchor:n,color:E,idealDirection:_||"down",onDismiss:y?function(){}:l,positionRelativeToAnchor:!b&&w,shouldFocus:!1,showCaret:P,size:d,children:(0,s.jsxs)(a.xu,{column:12,padding:3,children:[(0,s.jsxs)(a.xv,{align:"right"===k?"end":k,color:"inverse",overflow:S,size:p,weight:O||"bold",children:[e.getText(c,u,A),c.secondary_cta_link&&(0,s.jsx)(a.xu,{display:"inlineBlock",marginStart:1,children:(0,s.jsx)(a.xv,{size:p,weight:"bold",color:"inverse",children:(0,s.jsx)(a.rU,{inline:!0,target:"blank",href:c.secondary_cta_link.url,underline:"hover",children:c.secondary_cta_link.text})})})]}),c.sub_text&&(0,s.jsx)(a.xu,{paddingY:2,children:(0,s.jsx)(a.xv,{color:"inverse",size:p,children:c.sub_text})}),(c.dismiss_button_text||c.complete_button_text)&&(0,s.jsxs)(a.xu,{display:"flex",alignItems:"center",marginTop:2,children:[c.dismiss_button_text&&(0,s.jsx)(a.xu,{marginEnd:1,column:6,children:(0,s.jsx)(a.zx,{fullWidth:h,color:E,onClick:function(){v&&v(),l()},size:"md",text:c.dismiss_button_text})}),c.complete_button_text&&(0,s.jsx)(a.xu,{column:c.dismiss_button_text?6:12,children:C?(0,s.jsx)(a.iP,{fullHeight:!0,onTap:function(){r(),m&&m()},rounding:2,children:(0,s.jsx)(a.xu,{display:"flex",color:"default",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,s.jsx)(a.xv,{color:"shopping",weight:"bold",children:c.complete_button_text})})}):(0,s.jsx)(a.kC,{justifyContent:"center",children:(0,s.jsx)(a.zx,{fullWidth:h,color:"white",href:c.complete_button_cta_url,role:c.complete_button_cta_url?"link":"button",size:"md",target:c.complete_button_cta_url?"blank":null,text:c.complete_button_text,onClick:function(){r(),m&&m()}})})})]})]})})}))]})):(r(),null)}})}}])&&v(t.prototype,n),l&&v(t,l),u}(o.Component);S(A,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},570470:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var o=n(76911),r=n(908390),i=n(515198);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(l){s=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function l(e){var t=e.anchor,n=e.children,s=e.zIndex,l=(0,o.useRef)(null),c=a((0,o.useState)(0),2),u=c[0],d=c[1],p=a((0,o.useState)(0),2),f=p[0],h=p[1],_=t.getBoundingClientRect(),b=_.height,g=_.width;return(0,o.useEffect)((function(){var e=l.current;if(t&&e){var n=e.getBoundingClientRect(),o=n.height,r=n.width,i=function(e,t,n,o){return{horizontalOffset:-(o/2-t/2),verticalOffset:-(n/2-e/2)}}(b,g,o,r),a=i.horizontalOffset,s=i.verticalOffset;d(a),h(s)}})),(0,i.jsx)(r.xu,{position:"absolute",zIndex:s?new r.Ry(s):void 0,dangerouslySetInlineStyle:{__style:{left:u,top:f}},ref:l,children:n})}var c=function(e){var t=e.anchor,n=e.onTouch,o=e.onMouseEnter,a=e.paused,s=e.size,c=e.zIndex;return t?(0,i.jsx)(l,{anchor:t,zIndex:c,children:(0,i.jsx)(r.iP,{fullWidth:!1,onTap:function(e){var t=e.event;return n(t)},onMouseEnter:o,rounding:"circle",children:(0,i.jsx)(r.o3,{paused:a,size:s})})}):null}},472644:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var o=n(515198);function r(e){var t=e.size;return(0,o.jsx)("svg",{height:t,viewBox:"0 0 512 512",width:t,xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,o.jsx)("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),(0,o.jsx)("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),(0,o.jsx)("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),(0,o.jsx)("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),(0,o.jsx)("path",{d:"M20 20h472v472H20V20z"})]})})}},711781:function(e,t){"use strict";t.Z=function(e){return JSON.parse(decodeURIComponent(atob((t=e.split(".")[1],(t||"").replace(/-/g,"+").replace(/_/g,"/"))).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")));var t}},160585:function(e,t,n){"use strict";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="abcdefghijklmnopqrstuvwxyz1234567890";return new Array(e).fill("").map((function(){return t[Math.floor(Math.random()*t.length)]})).join("")}n.d(t,{Z:function(){return o}})},70523:function(e,t,n){"use strict";n.d(t,{e6:function(){return r},lW:function(){return o},oo:function(){return i}});var o=function(){return{type:"GOOGLE_ONE_TAP_INITIALIZED",payload:Object.freeze({})}},r=function(){return{type:"HIDE_GOOGLE_ONE_TAP"}},i=function(){return{type:"GOOGLE_ONE_TAP_DISABLED"}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/19126-e242b0ad79947b7d.js.map