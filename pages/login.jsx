import Head from "next/head";
import Link from "next/link";
import styles from "../styles/login.module.scss";
import Recaptcha from "react-recaptcha";
import { useState } from "react";
import { useSession, signIn, signOut } from "next-auth/react";
import * as Icon from "react-bootstrap-icons";
import Checkbox from "@mui/material/Checkbox";
import { FormControlLabel, FormGroup } from "@mui/material";
const label = { inputProps: { "aria-label": "Checkbox demo" } };

const login = () => {
  const { data: session } = useSession();
  const [isVerified, setisVerified] = useState(false);

  const handleSubscribe = () => {
    if (isVerified) {
      alert("You have successfully subscribed!");
    } else {
      alert("Please verify that you are a human!");
    }
  };
  const recaptchaLoaded = () => {
    console.log("capcha successfully loaded");
  };

  const verifyCallback = (response) => {
    if (response) {
      setisVerified(true);
    }
  };
  return (
    <div>
      <Head>
        <title>Login Page</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
        <script
          src="https://www.google.com/recaptcha/api.js?
        onload=onloadCallback
        &render=explicit
        &hl={{app.request.locale|default(defaultLang) }}"
          async
          defer
        ></script>
      </Head>
      <main>
        <section className={styles.loginPage}>
          <div className="container">
            <div className={styles.loginHeadText}>
              <h1>Sayta giriş</h1>
            </div>
            <div className={styles.loginForm}>
              <div className={styles.differentAccount}>
                <div className="row align-items-center justify-content-center">
                  <div className="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                    <button
                      onClick={signIn}
                      className="d-flex align-items-center justify-content-center"
                    >
                      <Icon.Google className={styles.googleIco} />{" "}
                      <span>Google ilə daxil ol</span>
                    </button>
                  </div>
                  <div className="col-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 col-xxl-4">
                    <button className="d-flex align-items-center justify-content-center">
                      <Icon.Facebook className={styles.fbIco} />{" "}
                      <span className={styles.fbText}>
                        Facebook ilə daxil ol
                      </span>
                    </button>
                  </div>
                </div>
              </div>
              <form>
                <div className="row align-items-center justify-content-center">
                  <div className="col-12 col-sm-12 col-md-12 col-lg-8 col-xl-8 col-xxl-8">
                    <div className={styles.loginInp}>
                      <input type="email" placeholder="E-mail" />
                    </div>
                  </div>
                  <div className="col-12 col-sm-12 col-md-12 col-lg-8 col-xl-8 col-xxl-8">
                    <div className={styles.loginInp}>
                      <input type="password" placeholder="Şifrə" />
                    </div>
                  </div>
                </div>
                <div className=" m-auto col-12 col-sm-12 col-md-8 col-lg-8 col-xl-8 col-xxl-8">
                  <div className="googleSecurity d-flex align-items-center justify-content-center my-3">
                    <Recaptcha
                      sitekey="6LewiMchAAAAAOamYRvR1zAW2cegpxu9Fl996YCK"
                      render="explicit"
                      theme="default"
                      onloadCallback={recaptchaLoaded}
                      verifyCallback={verifyCallback}
                    />
                  </div>
                  <div className={styles.fullNameInpS}>
                    <input
                      onClick={handleSubscribe}
                      className={styles.submitIco}
                      type="submit"
                      value="Daxil ol"
                    />
                    <Link href="/">
                      <a className={styles.forgotPass}>Şifrəni unutmusuz?</a>
                    </Link>
                  </div>
                  <div className=" col-6 col-sm-4 col-md-4 col-lg-4 col-xl-2 col-xxl-2">
                    <div className={styles.savePass}>
                      <FormGroup>
                        <FormControlLabel
                          control={<Checkbox defaultChecked />}
                          label="yadda saxla"
                          color="success"
                        />
                      </FormGroup>
                    </div>
                  </div>
                </div>
                <div
                  className={`${styles.isRegister} text-center`}
                >
                    <p>Şəxsi kabinetiniz yoxdursa</p>
                    <Link href="/register">
                      <a>Qeydiyyatdan keçin</a>
                    </Link>
                </div>
              </form>
            </div>
          </div>
        </section>
      </main>
    </div>
  );
};

export default login;
